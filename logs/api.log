2025-04-10 13:45:23,472 - WARNING - Missing or invalid num field. num: 078307409
2025-04-10 13:46:34,138 - WARNING - Missing or invalid num field. num: 078307409
2025-04-10 13:48:23,115 - WARNING - Missing or invalid num field. num: 078307409
2025-04-10 13:50:13,116 - INFO - Requête reçue: {'type': 'code', 'confirmation_code': '123456', 'num': '078307409'}
2025-04-10 13:50:13,117 - WARNING - Missing or invalid num field. num: 078307409
2025-04-10 13:58:56,136 - ERROR - Erreur non gérée: 400 Bad Request: The browser (or proxy) sent a request that this server could not understand.
Traceback (most recent call last):
  File "/usr/lib/python3/dist-packages/werkzeug/wrappers/request.py", line 586, in get_json
    rv = self.json_module.loads(data)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/flask/json/provider.py", line 255, in loads
    return json.loads(s, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.11/json/__init__.py", line 346, in loads
    return _default_decoder.decode(s)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.11/json/decoder.py", line 337, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.11/json/decoder.py", line 353, in raw_decode
    obj, end = self.scan_once(s, idx)
               ^^^^^^^^^^^^^^^^^^^^^^
json.decoder.JSONDecodeError: Expecting ',' delimiter: line 1 column 67 (char 66)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/lib/python3/dist-packages/flask/wrappers.py", line 128, in on_json_loading_failed
    return super().on_json_loading_failed(e)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/werkzeug/wrappers/request.py", line 617, in on_json_loading_failed
    raise BadRequest(f"Failed to decode JSON object: {e}")
werkzeug.exceptions.BadRequest: 400 Bad Request: Failed to decode JSON object: Expecting ',' delimiter: line 1 column 67 (char 66)

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/lib/python3/dist-packages/flask/app.py", line 1820, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/flask/app.py", line 1796, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/var/www/flaskapp.dev/app.py", line 112, in decorated_function
    return f(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^
  File "/var/www/flaskapp.dev/app.py", line 122, in receive_data
    data = flask.request.get_json()
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/werkzeug/wrappers/request.py", line 595, in get_json
    rv = self.on_json_loading_failed(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/flask/wrappers.py", line 133, in on_json_loading_failed
    raise BadRequest() from e
werkzeug.exceptions.BadRequest: 400 Bad Request: The browser (or proxy) sent a request that this server could not understand.
2025-04-10 13:59:40,250 - INFO - Requête reçue: {'type': 'code', 'confirmation_code': '123456', 'num': '078307409'}
2025-04-10 13:59:40,251 - WARNING - Missing or invalid num field. num: 078307409
2025-04-11 18:08:06,082 - INFO - Requête reçue: {'type': 'code', 'confirmation_code': '123456', 'num': '0783074093'}
2025-04-11 18:08:13,318 - INFO - Message evoyer, numero: 0783074093, message: <message.Message object at 0x7fb1376d87d0>
2025-04-14 18:12:31,550 - INFO - Requête reçue: POST http://sms.ville-latronche.fr/receive | IP: 127.0.0.1
2025-04-14 18:13:32,822 - INFO - Requête reçue: POST http://sms.ville-latronche.fr/receive | IP: 127.0.0.1
2025-04-14 18:13:32,824 - ERROR - Erreur non gérée: 400 Bad Request: The browser (or proxy) sent a request that this server could not understand.
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/dist-packages/werkzeug/wrappers/request.py", line 611, in get_json
    rv = self.json_module.loads(data)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/json/provider.py", line 187, in loads
    return json.loads(s, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.11/json/__init__.py", line 346, in loads
    return _default_decoder.decode(s)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.11/json/decoder.py", line 337, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.11/json/decoder.py", line 353, in raw_decode
    obj, end = self.scan_once(s, idx)
               ^^^^^^^^^^^^^^^^^^^^^^
json.decoder.JSONDecodeError: Invalid \escape: line 1 column 20 (char 19)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/dist-packages/flask/wrappers.py", line 214, in on_json_loading_failed
    return super().on_json_loading_failed(e)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/werkzeug/wrappers/request.py", line 645, in on_json_loading_failed
    raise BadRequest(f"Failed to decode JSON object: {e}")
werkzeug.exceptions.BadRequest: 400 Bad Request: Failed to decode JSON object: Invalid \escape: line 1 column 20 (char 19)

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/var/www/flaskapp.dev/app.py", line 131, in decorated_function
    return f(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^
  File "/var/www/flaskapp.dev/app.py", line 141, in receive_data
    data = flask.request.get_json()
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/werkzeug/wrappers/request.py", line 620, in get_json
    rv = self.on_json_loading_failed(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/wrappers.py", line 219, in on_json_loading_failed
    raise BadRequest() from ebr
werkzeug.exceptions.BadRequest: 400 Bad Request: The browser (or proxy) sent a request that this server could not understand.
2025-04-14 18:14:34,135 - INFO - Requête reçue: POST http://sms.ville-latronche.fr/receive | IP: 127.0.0.1
2025-04-14 18:14:34,136 - ERROR - Erreur non gérée: 400 Bad Request: The browser (or proxy) sent a request that this server could not understand.
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/dist-packages/werkzeug/wrappers/request.py", line 611, in get_json
    rv = self.json_module.loads(data)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/json/provider.py", line 187, in loads
    return json.loads(s, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.11/json/__init__.py", line 346, in loads
    return _default_decoder.decode(s)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.11/json/decoder.py", line 337, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.11/json/decoder.py", line 353, in raw_decode
    obj, end = self.scan_once(s, idx)
               ^^^^^^^^^^^^^^^^^^^^^^
json.decoder.JSONDecodeError: Invalid \escape: line 1 column 20 (char 19)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/dist-packages/flask/wrappers.py", line 214, in on_json_loading_failed
    return super().on_json_loading_failed(e)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/werkzeug/wrappers/request.py", line 645, in on_json_loading_failed
    raise BadRequest(f"Failed to decode JSON object: {e}")
werkzeug.exceptions.BadRequest: 400 Bad Request: Failed to decode JSON object: Invalid \escape: line 1 column 20 (char 19)

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/var/www/flaskapp.dev/app.py", line 131, in decorated_function
    return f(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^
  File "/var/www/flaskapp.dev/app.py", line 141, in receive_data
    data = flask.request.get_json()
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/werkzeug/wrappers/request.py", line 620, in get_json
    rv = self.on_json_loading_failed(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/wrappers.py", line 219, in on_json_loading_failed
    raise BadRequest() from ebr
werkzeug.exceptions.BadRequest: 400 Bad Request: The browser (or proxy) sent a request that this server could not understand.
2025-04-14 18:17:05,849 - INFO - Requête reçue: POST http://sms.ville-latronche.fr/receive | IP: 127.0.0.1
2025-04-14 18:17:05,850 - INFO - Requête reçue: {'type': 'code', 'confirmation_code': '123456', 'num': '0783074093'}
2025-04-14 18:17:13,084 - INFO - Message evoyer, numero: 0783074093, message: Code d'authentification :
123456
2025-04-14 18:17:13,097 - ERROR - Erreur non gérée: 'date_rdv' is an invalid keyword argument for MessageDb
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/var/www/flaskapp.dev/app.py", line 131, in decorated_function
    return f(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^
  File "/var/www/flaskapp.dev/app.py", line 177, in receive_data
    messageDb = MessageDb(
                ^^^^^^^^^^
  File "<string>", line 4, in __init__
  File "/usr/local/lib/python3.11/dist-packages/sqlalchemy/orm/state.py", line 571, in _initialize_instance
    with util.safe_reraise():
  File "/usr/local/lib/python3.11/dist-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/usr/local/lib/python3.11/dist-packages/sqlalchemy/orm/state.py", line 569, in _initialize_instance
    manager.original_init(*mixed[1:], **kwargs)
  File "/usr/local/lib/python3.11/dist-packages/sqlalchemy/orm/decl_base.py", line 2175, in _declarative_constructor
    raise TypeError(
TypeError: 'date_rdv' is an invalid keyword argument for MessageDb
2025-04-14 18:22:02,695 - INFO - Requête reçue: POST http://sms.ville-latronche.fr/receive | IP: 127.0.0.1
2025-04-14 18:22:02,696 - INFO - Requête reçue: {'type': 'code', 'confirmation_code': '123456', 'num': '0783074093'}
2025-04-14 18:22:09,954 - INFO - Message evoyer, numero: 0783074093, message: Code d'authentification :
123456
2025-04-14 18:22:09,966 - ERROR - Erreur non gérée: 'date_rdv' is an invalid keyword argument for MessageDb
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/var/www/flaskapp.dev/app.py", line 131, in decorated_function
    return f(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^
  File "/var/www/flaskapp.dev/app.py", line 177, in receive_data
    dateRDV = data.get('dateRDV') if message_type == 'rdv' else None
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<string>", line 4, in __init__
  File "/usr/local/lib/python3.11/dist-packages/sqlalchemy/orm/state.py", line 571, in _initialize_instance
    with util.safe_reraise():
  File "/usr/local/lib/python3.11/dist-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/usr/local/lib/python3.11/dist-packages/sqlalchemy/orm/state.py", line 569, in _initialize_instance
    manager.original_init(*mixed[1:], **kwargs)
  File "/usr/local/lib/python3.11/dist-packages/sqlalchemy/orm/decl_base.py", line 2175, in _declarative_constructor
    raise TypeError(
TypeError: 'date_rdv' is an invalid keyword argument for MessageDb
2025-04-14 18:22:32,614 - INFO - Requête reçue: POST http://sms.ville-latronche.fr/receive | IP: 127.0.0.1
2025-04-14 18:22:32,615 - INFO - Requête reçue: {'type': 'code', 'confirmation_code': '123456', 'num': '0783074093'}
2025-04-14 18:22:39,848 - INFO - Message evoyer, numero: 0783074093, message: Code d'authentification :
123456
2025-04-14 18:22:39,854 - ERROR - Erreur non gérée: 'date_rdv' is an invalid keyword argument for MessageDb
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/var/www/flaskapp.dev/app.py", line 131, in decorated_function
    return f(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^
  File "/var/www/flaskapp.dev/app.py", line 177, in receive_data
    dateRDV = data.get('dateRDV') if message_type == 'rdv' else None
                ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "<string>", line 4, in __init__
  File "/usr/local/lib/python3.11/dist-packages/sqlalchemy/orm/state.py", line 571, in _initialize_instance
    with util.safe_reraise():
  File "/usr/local/lib/python3.11/dist-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/usr/local/lib/python3.11/dist-packages/sqlalchemy/orm/state.py", line 569, in _initialize_instance
    manager.original_init(*mixed[1:], **kwargs)
  File "/usr/local/lib/python3.11/dist-packages/sqlalchemy/orm/decl_base.py", line 2175, in _declarative_constructor
    raise TypeError(
TypeError: 'date_rdv' is an invalid keyword argument for MessageDb
2025-04-14 18:23:55,155 - INFO - Requête reçue: POST http://sms.ville-latronche.fr/receive | IP: 127.0.0.1
2025-04-14 18:23:55,155 - INFO - Requête reçue: {'type': 'code', 'confirmation_code': '123456', 'num': '0783074093'}
2025-04-14 18:24:02,389 - INFO - Message evoyer, numero: 0783074093, message: Code d'authentification :
123456
2025-04-14 18:24:42,023 - INFO - Requête reçue: POST http://sms.ville-latronche.fr/receive | IP: 127.0.0.1
2025-04-14 18:24:42,024 - INFO - Requête reçue: {'type': 'code', 'confirmation_code': '123456', 'num': '0783074093'}
2025-04-14 18:24:49,258 - INFO - Message evoyer, numero: 0783074093, message: Code d'authentification :
123456
2025-04-14 18:24:49,264 - ERROR - Erreur non gérée: Class 'message.Message' is not mapped
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/dist-packages/sqlalchemy/orm/session.py", line 3477, in add
    state = attributes.instance_state(instance)
            ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'Message' object has no attribute '_sa_instance_state'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/var/www/flaskapp.dev/app.py", line 131, in decorated_function
    return f(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^
  File "/var/www/flaskapp.dev/app.py", line 184, in receive_data
    db.session.add(message)
  File "/usr/local/lib/python3.11/dist-packages/sqlalchemy/orm/scoping.py", line 380, in add
    return self._proxied.add(instance, _warn=_warn)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/sqlalchemy/orm/session.py", line 3479, in add
    raise exc.UnmappedInstanceError(instance) from err
sqlalchemy.orm.exc.UnmappedInstanceError: Class 'message.Message' is not mapped
2025-04-14 18:25:06,772 - INFO - Requête reçue: POST http://sms.ville-latronche.fr/receive | IP: 127.0.0.1
2025-04-14 18:25:06,773 - INFO - Requête reçue: {'type': 'code', 'confirmation_code': '123456', 'num': '0783074093'}
2025-04-14 18:25:14,010 - INFO - Message evoyer, numero: 0783074093, message: Code d'authentification :
123456
2025-04-14 18:25:14,026 - ERROR - Erreur non gérée: (sqlite3.OperationalError) no such table: message_db
[SQL: INSERT INTO message_db (number, content, type, "dateRDV") VALUES (?, ?, ?, ?) RETURNING id, timestamp]
[parameters: ('0783074093', "Code d'authentification :\n123456", 'code', None)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/dist-packages/sqlalchemy/engine/base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
  File "/usr/local/lib/python3.11/dist-packages/sqlalchemy/engine/default.py", line 945, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such table: message_db

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/var/www/flaskapp.dev/app.py", line 131, in decorated_function
    return f(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^
  File "/var/www/flaskapp.dev/app.py", line 185, in receive_data
    db.session.commit()
  File "/usr/local/lib/python3.11/dist-packages/sqlalchemy/orm/scoping.py", line 599, in commit
    return self._proxied.commit()
           ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/sqlalchemy/orm/session.py", line 2032, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "/usr/local/lib/python3.11/dist-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/sqlalchemy/orm/session.py", line 1313, in commit
    self._prepare_impl()
  File "<string>", line 2, in _prepare_impl
  File "/usr/local/lib/python3.11/dist-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/sqlalchemy/orm/session.py", line 1288, in _prepare_impl
    self.session.flush()
  File "/usr/local/lib/python3.11/dist-packages/sqlalchemy/orm/session.py", line 4353, in flush
    self._flush(objects)
  File "/usr/local/lib/python3.11/dist-packages/sqlalchemy/orm/session.py", line 4488, in _flush
    with util.safe_reraise():
  File "/usr/local/lib/python3.11/dist-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/usr/local/lib/python3.11/dist-packages/sqlalchemy/orm/session.py", line 4449, in _flush
    flush_context.execute()
  File "/usr/local/lib/python3.11/dist-packages/sqlalchemy/orm/unitofwork.py", line 466, in execute
    rec.execute(self)
  File "/usr/local/lib/python3.11/dist-packages/sqlalchemy/orm/unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
  File "/usr/local/lib/python3.11/dist-packages/sqlalchemy/orm/persistence.py", line 93, in save_obj
    _emit_insert_statements(
  File "/usr/local/lib/python3.11/dist-packages/sqlalchemy/orm/persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
             ^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/sqlalchemy/engine/base.py", line 1416, in execute
    return meth(
           ^^^^^
  File "/usr/local/lib/python3.11/dist-packages/sqlalchemy/sql/elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/sqlalchemy/engine/base.py", line 1638, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/sqlalchemy/engine/base.py", line 1843, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/sqlalchemy/engine/base.py", line 1983, in _exec_single_context
    self._handle_dbapi_exception(
  File "/usr/local/lib/python3.11/dist-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/usr/local/lib/python3.11/dist-packages/sqlalchemy/engine/base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
  File "/usr/local/lib/python3.11/dist-packages/sqlalchemy/engine/default.py", line 945, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: message_db
[SQL: INSERT INTO message_db (number, content, type, "dateRDV") VALUES (?, ?, ?, ?) RETURNING id, timestamp]
[parameters: ('0783074093', "Code d'authentification :\n123456", 'code', None)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-04-14 18:41:08,893 - INFO - Requête reçue: POST http://sms.ville-latronche.fr/receive | IP: 127.0.0.1
2025-04-14 18:41:08,894 - INFO - Requête reçue: {'type': 'code', 'confirmation_code': '123456', 'num': '0783074093'}
2025-04-14 18:41:08,895 - INFO - Message evoyer, numero: 0783074093, message: Code d'authentification :
123456
2025-04-14 18:41:08,903 - ERROR - Erreur non gérée: (sqlite3.OperationalError) no such table: message_db
[SQL: INSERT INTO message_db (number, content, type, "dateRDV") VALUES (?, ?, ?, ?) RETURNING id, timestamp]
[parameters: ('0783074093', "Code d'authentification :\n123456", 'code', None)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/dist-packages/sqlalchemy/engine/base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
  File "/usr/local/lib/python3.11/dist-packages/sqlalchemy/engine/default.py", line 945, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such table: message_db

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/var/www/flaskapp.dev/app.py", line 131, in decorated_function
    return f(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^
  File "/var/www/flaskapp.dev/app.py", line 185, in receive_data
    db.session.commit()
  File "/usr/local/lib/python3.11/dist-packages/sqlalchemy/orm/scoping.py", line 599, in commit
    return self._proxied.commit()
           ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/sqlalchemy/orm/session.py", line 2032, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "/usr/local/lib/python3.11/dist-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/sqlalchemy/orm/session.py", line 1313, in commit
    self._prepare_impl()
  File "<string>", line 2, in _prepare_impl
  File "/usr/local/lib/python3.11/dist-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/sqlalchemy/orm/session.py", line 1288, in _prepare_impl
    self.session.flush()
  File "/usr/local/lib/python3.11/dist-packages/sqlalchemy/orm/session.py", line 4353, in flush
    self._flush(objects)
  File "/usr/local/lib/python3.11/dist-packages/sqlalchemy/orm/session.py", line 4488, in _flush
    with util.safe_reraise():
  File "/usr/local/lib/python3.11/dist-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/usr/local/lib/python3.11/dist-packages/sqlalchemy/orm/session.py", line 4449, in _flush
    flush_context.execute()
  File "/usr/local/lib/python3.11/dist-packages/sqlalchemy/orm/unitofwork.py", line 466, in execute
    rec.execute(self)
  File "/usr/local/lib/python3.11/dist-packages/sqlalchemy/orm/unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
  File "/usr/local/lib/python3.11/dist-packages/sqlalchemy/orm/persistence.py", line 93, in save_obj
    _emit_insert_statements(
  File "/usr/local/lib/python3.11/dist-packages/sqlalchemy/orm/persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
             ^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/sqlalchemy/engine/base.py", line 1416, in execute
    return meth(
           ^^^^^
  File "/usr/local/lib/python3.11/dist-packages/sqlalchemy/sql/elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/sqlalchemy/engine/base.py", line 1638, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/sqlalchemy/engine/base.py", line 1843, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/sqlalchemy/engine/base.py", line 1983, in _exec_single_context
    self._handle_dbapi_exception(
  File "/usr/local/lib/python3.11/dist-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/usr/local/lib/python3.11/dist-packages/sqlalchemy/engine/base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
  File "/usr/local/lib/python3.11/dist-packages/sqlalchemy/engine/default.py", line 945, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: message_db
[SQL: INSERT INTO message_db (number, content, type, "dateRDV") VALUES (?, ?, ?, ?) RETURNING id, timestamp]
[parameters: ('0783074093', "Code d'authentification :\n123456", 'code', None)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-04-14 18:43:12,766 - INFO - Requête reçue: POST http://sms.ville-latronche.fr/receive | IP: 127.0.0.1
2025-04-14 18:43:12,769 - INFO - Requête reçue: {'type': 'code', 'confirmation_code': '123456', 'num': '0783074093'}
2025-04-14 18:43:12,770 - INFO - Message evoyer, numero: 0783074093, message: Code d'authentification :
123456
2025-04-14 18:44:42,099 - INFO - Requête reçue: POST http://sms.ville-latronche.fr/receive | IP: 127.0.0.1
2025-04-14 18:44:42,100 - INFO - Requête reçue: {'type': 'code', 'confirmation_code': '123456', 'num': '0783074093'}
2025-04-14 18:44:42,100 - INFO - Message evoyer, numero: 0783074093, message: Code d'authentification :
123456
2025-04-14 18:44:42,107 - ERROR - Erreur non gérée: (sqlite3.OperationalError) no such table: message_db
[SQL: INSERT INTO message_db (number, content, type, "dateRDV") VALUES (?, ?, ?, ?) RETURNING id, timestamp]
[parameters: ('0783074093', "Code d'authentification :\n123456", 'code', None)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/dist-packages/sqlalchemy/engine/base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
  File "/usr/local/lib/python3.11/dist-packages/sqlalchemy/engine/default.py", line 945, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such table: message_db

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/var/www/flaskapp.dev/app.py", line 131, in decorated_function
    return f(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^
  File "/var/www/flaskapp.dev/app.py", line 185, in receive_data
    db.session.commit()
  File "/usr/local/lib/python3.11/dist-packages/sqlalchemy/orm/scoping.py", line 599, in commit
    return self._proxied.commit()
           ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/sqlalchemy/orm/session.py", line 2032, in commit
    trans.commit(_to_root=True)
  File "<string>", line 2, in commit
  File "/usr/local/lib/python3.11/dist-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/sqlalchemy/orm/session.py", line 1313, in commit
    self._prepare_impl()
  File "<string>", line 2, in _prepare_impl
  File "/usr/local/lib/python3.11/dist-packages/sqlalchemy/orm/state_changes.py", line 139, in _go
    ret_value = fn(self, *arg, **kw)
                ^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/sqlalchemy/orm/session.py", line 1288, in _prepare_impl
    self.session.flush()
  File "/usr/local/lib/python3.11/dist-packages/sqlalchemy/orm/session.py", line 4353, in flush
    self._flush(objects)
  File "/usr/local/lib/python3.11/dist-packages/sqlalchemy/orm/session.py", line 4488, in _flush
    with util.safe_reraise():
  File "/usr/local/lib/python3.11/dist-packages/sqlalchemy/util/langhelpers.py", line 146, in __exit__
    raise exc_value.with_traceback(exc_tb)
  File "/usr/local/lib/python3.11/dist-packages/sqlalchemy/orm/session.py", line 4449, in _flush
    flush_context.execute()
  File "/usr/local/lib/python3.11/dist-packages/sqlalchemy/orm/unitofwork.py", line 466, in execute
    rec.execute(self)
  File "/usr/local/lib/python3.11/dist-packages/sqlalchemy/orm/unitofwork.py", line 642, in execute
    util.preloaded.orm_persistence.save_obj(
  File "/usr/local/lib/python3.11/dist-packages/sqlalchemy/orm/persistence.py", line 93, in save_obj
    _emit_insert_statements(
  File "/usr/local/lib/python3.11/dist-packages/sqlalchemy/orm/persistence.py", line 1233, in _emit_insert_statements
    result = connection.execute(
             ^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/sqlalchemy/engine/base.py", line 1416, in execute
    return meth(
           ^^^^^
  File "/usr/local/lib/python3.11/dist-packages/sqlalchemy/sql/elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/sqlalchemy/engine/base.py", line 1638, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/sqlalchemy/engine/base.py", line 1843, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/sqlalchemy/engine/base.py", line 1983, in _exec_single_context
    self._handle_dbapi_exception(
  File "/usr/local/lib/python3.11/dist-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/usr/local/lib/python3.11/dist-packages/sqlalchemy/engine/base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
  File "/usr/local/lib/python3.11/dist-packages/sqlalchemy/engine/default.py", line 945, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: message_db
[SQL: INSERT INTO message_db (number, content, type, "dateRDV") VALUES (?, ?, ?, ?) RETURNING id, timestamp]
[parameters: ('0783074093', "Code d'authentification :\n123456", 'code', None)]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-04-14 18:59:39,514 - INFO - Requête reçue: GET http://sms.ville-latronche.fr/db | IP: 127.0.0.1
2025-04-14 18:59:39,530 - ERROR - Erreur non gérée: (sqlite3.OperationalError) no such table: message_db
[SQL: SELECT message_db.id AS message_db_id, message_db.number AS message_db_number, message_db.content AS message_db_content, message_db.type AS message_db_type, message_db.timestamp AS message_db_timestamp, message_db."dateRDV" AS "message_db_dateRDV" 
FROM message_db]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/dist-packages/sqlalchemy/engine/base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
  File "/usr/local/lib/python3.11/dist-packages/sqlalchemy/engine/default.py", line 945, in do_execute
    cursor.execute(statement, parameters)
sqlite3.OperationalError: no such table: message_db

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/var/www/flaskapp.dev/app.py", line 199, in testDb
    return MessageDb.query.all()
           ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/sqlalchemy/orm/query.py", line 2704, in all
    return self._iter().all()  # type: ignore
           ^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/sqlalchemy/orm/query.py", line 2858, in _iter
    result: Union[ScalarResult[_T], Result[_T]] = self.session.execute(
                                                  ^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/sqlalchemy/orm/session.py", line 2365, in execute
    return self._execute_internal(
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/sqlalchemy/orm/session.py", line 2251, in _execute_internal
    result: Result[Any] = compile_state_cls.orm_execute_statement(
                          ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/sqlalchemy/orm/context.py", line 306, in orm_execute_statement
    result = conn.execute(
             ^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/sqlalchemy/engine/base.py", line 1416, in execute
    return meth(
           ^^^^^
  File "/usr/local/lib/python3.11/dist-packages/sqlalchemy/sql/elements.py", line 523, in _execute_on_connection
    return connection._execute_clauseelement(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/sqlalchemy/engine/base.py", line 1638, in _execute_clauseelement
    ret = self._execute_context(
          ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/sqlalchemy/engine/base.py", line 1843, in _execute_context
    return self._exec_single_context(
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/sqlalchemy/engine/base.py", line 1983, in _exec_single_context
    self._handle_dbapi_exception(
  File "/usr/local/lib/python3.11/dist-packages/sqlalchemy/engine/base.py", line 2352, in _handle_dbapi_exception
    raise sqlalchemy_exception.with_traceback(exc_info[2]) from e
  File "/usr/local/lib/python3.11/dist-packages/sqlalchemy/engine/base.py", line 1964, in _exec_single_context
    self.dialect.do_execute(
  File "/usr/local/lib/python3.11/dist-packages/sqlalchemy/engine/default.py", line 945, in do_execute
    cursor.execute(statement, parameters)
sqlalchemy.exc.OperationalError: (sqlite3.OperationalError) no such table: message_db
[SQL: SELECT message_db.id AS message_db_id, message_db.number AS message_db_number, message_db.content AS message_db_content, message_db.type AS message_db_type, message_db.timestamp AS message_db_timestamp, message_db."dateRDV" AS "message_db_dateRDV" 
FROM message_db]
(Background on this error at: https://sqlalche.me/e/20/e3q8)
2025-04-14 18:59:39,696 - INFO - Requête reçue: GET http://sms.ville-latronche.fr/favicon.ico | IP: 127.0.0.1
2025-04-14 18:59:39,697 - ERROR - Erreur non gérée: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
2025-04-14 19:01:23,676 - INFO - Requête reçue: GET http://sms.ville-latronche.fr/favicon.ico | IP: 127.0.0.1
2025-04-14 19:01:23,677 - ERROR - Erreur non gérée: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
2025-04-14 19:01:23,746 - INFO - Requête reçue: GET http://sms.ville-latronche.fr/favicon.ico | IP: 127.0.0.1
2025-04-14 19:01:23,747 - ERROR - Erreur non gérée: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
2025-04-14 19:13:06,160 - INFO - Requête reçue: POST http://sms.ville-latronche.fr/receive | IP: 127.0.0.1
2025-04-14 19:13:06,162 - INFO - Requête reçue: {'type': 'code', 'confirmation_code': '123456', 'num': '0783074093'}
2025-04-14 19:13:06,163 - INFO - Message evoyer, numero: 0783074093, message: Code d'authentification :
123456
2025-04-14 19:13:40,552 - INFO - Requête reçue: GET http://sms.ville-latronche.fr/db | IP: 127.0.0.1
2025-04-14 19:13:40,561 - ERROR - Exception on /db [GET]
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 920, in full_dispatch_request
    return self.finalize_request(rv)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 939, in finalize_request
    response = self.make_response(rv)
               ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 1231, in make_response
    rv = self.json.response(rv)
         ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/json/provider.py", line 214, in response
    f"{self.dumps(obj, **dump_args)}\n", mimetype=self.mimetype
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/json/provider.py", line 179, in dumps
    return json.dumps(obj, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.11/json/__init__.py", line 238, in dumps
    **kw).encode(obj)
          ^^^^^^^^^^^
  File "/usr/lib/python3.11/json/encoder.py", line 200, in encode
    chunks = self.iterencode(o, _one_shot=True)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.11/json/encoder.py", line 258, in iterencode
    return _iterencode(o, 0)
           ^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/json/provider.py", line 121, in _default
    raise TypeError(f"Object of type {type(o).__name__} is not JSON serializable")
TypeError: Object of type MessageDb is not JSON serializable
2025-04-14 19:13:40,569 - ERROR - Erreur non gérée: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 920, in full_dispatch_request
    return self.finalize_request(rv)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 939, in finalize_request
    response = self.make_response(rv)
               ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 1231, in make_response
    rv = self.json.response(rv)
         ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/json/provider.py", line 214, in response
    f"{self.dumps(obj, **dump_args)}\n", mimetype=self.mimetype
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/json/provider.py", line 179, in dumps
    return json.dumps(obj, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.11/json/__init__.py", line 238, in dumps
    **kw).encode(obj)
          ^^^^^^^^^^^
  File "/usr/lib/python3.11/json/encoder.py", line 200, in encode
    chunks = self.iterencode(o, _one_shot=True)
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.11/json/encoder.py", line 258, in iterencode
    return _iterencode(o, 0)
           ^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/json/provider.py", line 121, in _default
    raise TypeError(f"Object of type {type(o).__name__} is not JSON serializable")
TypeError: Object of type MessageDb is not JSON serializable
2025-04-14 19:13:40,610 - INFO - Requête reçue: GET http://sms.ville-latronche.fr/favicon.ico | IP: 127.0.0.1
2025-04-14 19:13:40,610 - ERROR - Erreur non gérée: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
2025-04-14 19:19:32,973 - INFO - Requête reçue: GET http://sms.ville-latronche.fr/db | IP: 127.0.0.1
2025-04-14 19:19:32,986 - ERROR - Erreur non gérée: 'MessageDb' object has no attribute 'sender'
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/var/www/flaskapp.dev/app.py", line 201, in testDb
    return jsonify([m.to_dict() for m in messages])
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/var/www/flaskapp.dev/app.py", line 201, in <listcomp>
    return jsonify([m.to_dict() for m in messages])
                    ^^^^^^^^^^^
  File "/var/www/flaskapp.dev/modelsDb.py", line 16, in to_dict
    "sender": self.sender,
              ^^^^^^^^^^^
AttributeError: 'MessageDb' object has no attribute 'sender'
2025-04-14 19:19:33,019 - INFO - Requête reçue: GET http://sms.ville-latronche.fr/favicon.ico | IP: 127.0.0.1
2025-04-14 19:19:33,020 - ERROR - Erreur non gérée: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
2025-04-14 19:19:57,545 - INFO - Requête reçue: GET http://sms.ville-latronche.fr/db | IP: 127.0.0.1
2025-04-14 19:19:57,562 - ERROR - Erreur non gérée: 'MessageDb' object has no attribute 'sender'
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/var/www/flaskapp.dev/app.py", line 201, in testDb
    return jsonify([m.to_dict() for m in messages])
                   ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/var/www/flaskapp.dev/app.py", line 201, in <listcomp>
    return jsonify([m.to_dict() for m in messages])
                    ^^^^^^^^^^^
  File "/var/www/flaskapp.dev/modelsDb.py", line 16, in to_dict
    "sender": self.sender,
              ^^^^^^^^^^^
AttributeError: 'MessageDb' object has no attribute 'sender'
2025-04-14 19:19:57,591 - INFO - Requête reçue: GET http://sms.ville-latronche.fr/favicon.ico | IP: 127.0.0.1
2025-04-14 19:19:57,592 - ERROR - Erreur non gérée: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
2025-04-14 19:21:32,029 - INFO - Requête reçue: GET http://sms.ville-latronche.fr/db | IP: 127.0.0.1
2025-04-14 19:21:32,067 - INFO - Requête reçue: GET http://sms.ville-latronche.fr/favicon.ico | IP: 127.0.0.1
2025-04-14 19:21:32,067 - ERROR - Erreur non gérée: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
2025-04-14 19:22:28,186 - INFO - Requête reçue: POST http://sms.ville-latronche.fr/receive | IP: 127.0.0.1
2025-04-14 19:22:28,188 - INFO - Requête reçue: {'type': 'code', 'confirmation_code': '123456', 'num': '0783074093'}
2025-04-14 19:22:28,188 - INFO - Message evoyer, numero: 0783074093, message: Code d'authentification :
123456
2025-04-14 19:22:31,891 - INFO - Requête reçue: GET http://sms.ville-latronche.fr/db | IP: 127.0.0.1
2025-04-14 19:22:31,921 - INFO - Requête reçue: GET http://sms.ville-latronche.fr/favicon.ico | IP: 127.0.0.1
2025-04-14 19:22:31,922 - ERROR - Erreur non gérée: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
2025-04-15 14:03:27,569 - INFO - Requête reçue: GET http://sms.ville-latronche.fr/ | IP: 127.0.0.1
2025-04-15 14:03:31,523 - INFO - Requête reçue: GET http://sms.ville-latronche.fr/db | IP: 127.0.0.1
2025-04-15 14:03:31,603 - INFO - Requête reçue: GET http://sms.ville-latronche.fr/favicon.ico | IP: 127.0.0.1
2025-04-15 14:03:31,604 - ERROR - Erreur non gérée: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
2025-04-15 14:08:16,896 - INFO - Requête reçue: POST http://sms.ville-latronche.fr/receive | IP: 127.0.0.1
2025-04-15 14:08:16,898 - INFO - Requête reçue: {'type': 'code', 'confirmation_code': '123456', 'num': '0783074093'}
2025-04-15 14:08:16,899 - INFO - Message evoyer, numero: 0783074093, message: Code d'authentification :
123456
2025-04-15 14:08:31,659 - INFO - Requête reçue: GET http://sms.ville-latronche.fr/db | IP: 127.0.0.1
2025-04-15 14:08:31,710 - INFO - Requête reçue: GET http://sms.ville-latronche.fr/favicon.ico | IP: 127.0.0.1
2025-04-15 14:13:09,754 - INFO - Requête reçue: GET http://sms.ville-latronche.fr/db | IP: 127.0.0.1
2025-04-15 14:13:31,237 - INFO - Requête reçue: GET http://sms.ville-latronche.fr/db | IP: 127.0.0.1
2025-04-15 14:13:32,117 - INFO - Requête reçue: GET http://sms.ville-latronche.fr/db | IP: 127.0.0.1
2025-04-15 14:13:56,107 - INFO - Requête reçue: GET http://sms.ville-latronche.fr/db | IP: 127.0.0.1
2025-04-15 14:14:02,232 - INFO - Requête reçue: GET http://sms.ville-latronche.fr/db | IP: 127.0.0.1
2025-04-15 14:21:15,625 - INFO - Requête reçue: GET http://sms.ville-latronche.fr/db | IP: 127.0.0.1
2025-04-15 14:21:27,072 - INFO - Requête reçue: GET http://sms.ville-latronche.fr/db | IP: 127.0.0.1
2025-04-15 14:29:25,543 - INFO - Requête reçue: GET http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-15 14:29:25,588 - INFO - Requête reçue: GET http://sms.ville-latronche.fr/static/css/accueil.css | IP: 127.0.0.1
2025-04-15 14:29:25,588 - ERROR - Erreur non gérée: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 278, in <lambda>
    view_func=lambda **kw: self_ref().send_static_file(**kw),  # type: ignore # noqa: B950
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 326, in send_static_file
    return send_from_directory(
           ^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/helpers.py", line 565, in send_from_directory
    return werkzeug.utils.send_from_directory(  # type: ignore[return-value]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/werkzeug/utils.py", line 575, in send_from_directory
    raise NotFound()
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
2025-04-15 14:29:29,099 - INFO - Requête reçue: POST http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-15 14:29:33,425 - INFO - Requête reçue: POST http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-15 14:29:35,433 - INFO - Requête reçue: POST http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-15 14:29:36,401 - INFO - Requête reçue: GET http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-15 14:34:13,299 - INFO - Requête reçue: GET http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-15 14:34:13,311 - ERROR - Erreur non gérée: 'messages' is undefined
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/var/www/flaskapp.dev/app.py", line 211, in historique
    return flask.render_template('historique.html')
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/lib/python3/dist-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "/var/www/flaskapp.dev/templates/historique.html", line 30, in top-level template code
    {% for champ in messages[0].keys() %}
    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/jinja2/environment.py", line 466, in getitem
    return obj[argument]
           ~~~^^^^^^^^^^
jinja2.exceptions.UndefinedError: 'messages' is undefined
2025-04-15 14:34:16,839 - INFO - Requête reçue: GET http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-15 14:34:16,840 - ERROR - Erreur non gérée: 'messages' is undefined
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/var/www/flaskapp.dev/app.py", line 211, in historique
    return flask.render_template('historique.html')
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/lib/python3/dist-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "/var/www/flaskapp.dev/templates/historique.html", line 30, in top-level template code
    {% for champ in messages[0].keys() %}
    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/jinja2/environment.py", line 466, in getitem
    return obj[argument]
           ~~~^^^^^^^^^^
jinja2.exceptions.UndefinedError: 'messages' is undefined
2025-04-15 14:36:32,675 - INFO - Requête reçue: GET http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-15 14:36:32,680 - ERROR - Erreur non gérée: Encountered unknown tag 'endif'.
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/var/www/flaskapp.dev/app.py", line 211, in historique
    return flask.render_template('historique.html')
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/templating.py", line 149, in render_template
    template = app.jinja_env.get_or_select_template(template_name_or_list)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/jinja2/environment.py", line 1081, in get_or_select_template
    return self.get_template(template_name_or_list, parent, globals)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/jinja2/environment.py", line 1010, in get_template
    return self._load_template(name, globals)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/jinja2/environment.py", line 969, in _load_template
    template = self.loader.load(self, name, self.make_globals(globals))
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/jinja2/loaders.py", line 138, in load
    code = environment.compile(source, name, filename)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/jinja2/environment.py", line 768, in compile
    self.handle_exception(source=source_hint)
  File "/usr/lib/python3/dist-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "/var/www/flaskapp.dev/templates/historique.html", line 49, in template
    {% endif %}
jinja2.exceptions.TemplateSyntaxError: Encountered unknown tag 'endif'.
2025-04-15 14:37:31,320 - INFO - Requête reçue: GET http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-15 14:37:31,339 - ERROR - Erreur non gérée: Encountered unknown tag 'endif'.
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/var/www/flaskapp.dev/app.py", line 211, in historique
    return flask.render_template('historique.html', messages=MessageDb.query.all())
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/templating.py", line 149, in render_template
    template = app.jinja_env.get_or_select_template(template_name_or_list)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/jinja2/environment.py", line 1081, in get_or_select_template
    return self.get_template(template_name_or_list, parent, globals)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/jinja2/environment.py", line 1010, in get_template
    return self._load_template(name, globals)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/jinja2/environment.py", line 969, in _load_template
    template = self.loader.load(self, name, self.make_globals(globals))
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/jinja2/loaders.py", line 138, in load
    code = environment.compile(source, name, filename)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/jinja2/environment.py", line 768, in compile
    self.handle_exception(source=source_hint)
  File "/usr/lib/python3/dist-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "/var/www/flaskapp.dev/templates/historique.html", line 49, in template
    {% endif %}
jinja2.exceptions.TemplateSyntaxError: Encountered unknown tag 'endif'.
2025-04-15 14:51:47,989 - INFO - Requête reçue: GET http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-15 14:51:48,001 - ERROR - Erreur non gérée: Encountered unknown tag 'endif'.
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/var/www/flaskapp.dev/app.py", line 211, in historique
    return flask.render_template('historique.html', messages=None)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/templating.py", line 149, in render_template
    template = app.jinja_env.get_or_select_template(template_name_or_list)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/jinja2/environment.py", line 1081, in get_or_select_template
    return self.get_template(template_name_or_list, parent, globals)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/jinja2/environment.py", line 1010, in get_template
    return self._load_template(name, globals)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/jinja2/environment.py", line 969, in _load_template
    template = self.loader.load(self, name, self.make_globals(globals))
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/jinja2/loaders.py", line 138, in load
    code = environment.compile(source, name, filename)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/jinja2/environment.py", line 768, in compile
    self.handle_exception(source=source_hint)
  File "/usr/lib/python3/dist-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "/var/www/flaskapp.dev/templates/historique.html", line 49, in template
    {% endif %}
jinja2.exceptions.TemplateSyntaxError: Encountered unknown tag 'endif'.
2025-04-15 14:52:30,190 - INFO - Requête reçue: GET http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-15 14:52:30,195 - ERROR - Erreur non gérée: Encountered unknown tag 'endif'.
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/var/www/flaskapp.dev/app.py", line 211, in historique
    return flask.render_template('historique.html', messages=None)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/templating.py", line 149, in render_template
    template = app.jinja_env.get_or_select_template(template_name_or_list)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/jinja2/environment.py", line 1081, in get_or_select_template
    return self.get_template(template_name_or_list, parent, globals)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/jinja2/environment.py", line 1010, in get_template
    return self._load_template(name, globals)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/jinja2/environment.py", line 969, in _load_template
    template = self.loader.load(self, name, self.make_globals(globals))
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/jinja2/loaders.py", line 138, in load
    code = environment.compile(source, name, filename)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/jinja2/environment.py", line 768, in compile
    self.handle_exception(source=source_hint)
  File "/usr/lib/python3/dist-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "/var/www/flaskapp.dev/templates/historique.html", line 49, in template
    {% endif %}
jinja2.exceptions.TemplateSyntaxError: Encountered unknown tag 'endif'.
2025-04-15 14:53:59,868 - INFO - Requête reçue: GET http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-15 14:53:59,876 - ERROR - Erreur non gérée: Encountered unknown tag 'else'.
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/var/www/flaskapp.dev/app.py", line 211, in historique
    return flask.render_template('historique.html', messages=None)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/templating.py", line 149, in render_template
    template = app.jinja_env.get_or_select_template(template_name_or_list)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/jinja2/environment.py", line 1081, in get_or_select_template
    return self.get_template(template_name_or_list, parent, globals)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/jinja2/environment.py", line 1010, in get_template
    return self._load_template(name, globals)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/jinja2/environment.py", line 969, in _load_template
    template = self.loader.load(self, name, self.make_globals(globals))
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/jinja2/loaders.py", line 138, in load
    code = environment.compile(source, name, filename)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/jinja2/environment.py", line 768, in compile
    self.handle_exception(source=source_hint)
  File "/usr/lib/python3/dist-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "/var/www/flaskapp.dev/templates/historique.html", line 49, in template
    {% else %}
jinja2.exceptions.TemplateSyntaxError: Encountered unknown tag 'else'.
2025-04-15 14:55:19,899 - INFO - Requête reçue: GET http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-15 14:55:19,937 - INFO - Requête reçue: GET http://sms.ville-latronche.fr/static/css/accueil.css | IP: 127.0.0.1
2025-04-15 14:55:19,938 - ERROR - Erreur non gérée: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 278, in <lambda>
    view_func=lambda **kw: self_ref().send_static_file(**kw),  # type: ignore # noqa: B950
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 326, in send_static_file
    return send_from_directory(
           ^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/helpers.py", line 565, in send_from_directory
    return werkzeug.utils.send_from_directory(  # type: ignore[return-value]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/werkzeug/utils.py", line 575, in send_from_directory
    raise NotFound()
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
2025-04-15 14:55:19,952 - INFO - Requête reçue: GET http://sms.ville-latronche.fr/favicon.ico | IP: 127.0.0.1
2025-04-15 14:55:46,771 - INFO - Requête reçue: POST http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-15 14:55:46,795 - ERROR - Erreur non gérée: 'list object' has no attribute 'keys'
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/var/www/flaskapp.dev/app.py", line 219, in historique
    return flask.render_template('historique.html', messages=messages)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/lib/python3/dist-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "/var/www/flaskapp.dev/templates/historique.html", line 33, in top-level template code
    {% for champ in messages.keys() %}
    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/jinja2/utils.py", line 86, in from_obj
    if hasattr(obj, "jinja_pass_arg"):
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
jinja2.exceptions.UndefinedError: 'list object' has no attribute 'keys'
2025-04-15 14:56:27,616 - INFO - Requête reçue: POST http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-15 14:56:27,632 - ERROR - Erreur non gérée: list object has no element 0
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/var/www/flaskapp.dev/app.py", line 219, in historique
    return flask.render_template('historique.html', messages=messages)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/lib/python3/dist-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "/var/www/flaskapp.dev/templates/historique.html", line 33, in top-level template code
    {% for champ in messages[0].keys() %}
    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/jinja2/environment.py", line 485, in getattr
    return getattr(obj, attribute)
           ^^^^^^^^^^^^^^^^^^^^^^^
jinja2.exceptions.UndefinedError: list object has no element 0
2025-04-15 14:58:05,641 - INFO - Requête reçue: POST http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-15 14:58:05,649 - INFO - messages : []
2025-04-15 14:58:05,662 - ERROR - Erreur non gérée: list object has no element 0
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/var/www/flaskapp.dev/app.py", line 221, in historique
    return flask.render_template('historique.html', messages=messages)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/lib/python3/dist-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "/var/www/flaskapp.dev/templates/historique.html", line 33, in top-level template code
    {% for champ in messages[0].keys() %}
    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/jinja2/environment.py", line 485, in getattr
    return getattr(obj, attribute)
           ^^^^^^^^^^^^^^^^^^^^^^^
jinja2.exceptions.UndefinedError: list object has no element 0
2025-04-15 14:59:04,846 - INFO - Requête reçue: POST http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-15 14:59:04,864 - INFO - messages : [{'id': 1, 'number': '0783074093', 'content': "Code d'authentification :\n123456", 'type': 'code', 'timestamp': '2025-04-14T17:13:06', 'dateRDV': None}, {'id': 2, 'number': '0783074093', 'content': "Code d'authentification :\n123456", 'type': 'code', 'timestamp': '2025-04-14T17:22:28', 'dateRDV': None}, {'id': 3, 'number': '0783074093', 'content': "Code d'authentification :\n123456", 'type': 'code', 'timestamp': '2025-04-15T12:08:16', 'dateRDV': None}]
2025-04-15 14:59:04,897 - INFO - Requête reçue: GET http://sms.ville-latronche.fr/static/css/accueil.css | IP: 127.0.0.1
2025-04-15 14:59:04,897 - ERROR - Erreur non gérée: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 278, in <lambda>
    view_func=lambda **kw: self_ref().send_static_file(**kw),  # type: ignore # noqa: B950
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 326, in send_static_file
    return send_from_directory(
           ^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/helpers.py", line 565, in send_from_directory
    return werkzeug.utils.send_from_directory(  # type: ignore[return-value]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/werkzeug/utils.py", line 575, in send_from_directory
    raise NotFound()
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
2025-04-15 14:59:04,908 - INFO - Requête reçue: GET http://sms.ville-latronche.fr/favicon.ico | IP: 127.0.0.1
2025-04-15 16:37:03,161 - INFO - Requête reçue: POST http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-15 16:37:03,169 - INFO - messages : [{'id': 1, 'number': '0783074093', 'content': "Code d'authentification :\n123456", 'type': 'code', 'timestamp': '2025-04-14T17:13:06', 'dateRDV': None}, {'id': 2, 'number': '0783074093', 'content': "Code d'authentification :\n123456", 'type': 'code', 'timestamp': '2025-04-14T17:22:28', 'dateRDV': None}, {'id': 3, 'number': '0783074093', 'content': "Code d'authentification :\n123456", 'type': 'code', 'timestamp': '2025-04-15T12:08:16', 'dateRDV': None}]
2025-04-15 16:37:03,197 - INFO - Requête reçue: GET http://sms.ville-latronche.fr/static/css/accueil.css | IP: 127.0.0.1
2025-04-15 16:37:03,198 - ERROR - Erreur non gérée: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 278, in <lambda>
    view_func=lambda **kw: self_ref().send_static_file(**kw),  # type: ignore # noqa: B950
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 326, in send_static_file
    return send_from_directory(
           ^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/helpers.py", line 565, in send_from_directory
    return werkzeug.utils.send_from_directory(  # type: ignore[return-value]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/werkzeug/utils.py", line 575, in send_from_directory
    raise NotFound()
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
2025-04-15 16:37:03,208 - INFO - Requête reçue: GET http://sms.ville-latronche.fr/favicon.ico | IP: 127.0.0.1
2025-04-15 16:37:15,995 - INFO - Requête reçue: POST http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-15 16:37:16,012 - INFO - messages : [{'id': 1, 'number': '0783074093', 'content': "Code d'authentification :\n123456", 'type': 'code', 'timestamp': '2025-04-14T17:13:06', 'dateRDV': None}, {'id': 2, 'number': '0783074093', 'content': "Code d'authentification :\n123456", 'type': 'code', 'timestamp': '2025-04-14T17:22:28', 'dateRDV': None}, {'id': 3, 'number': '0783074093', 'content': "Code d'authentification :\n123456", 'type': 'code', 'timestamp': '2025-04-15T12:08:16', 'dateRDV': None}]
2025-04-15 16:37:16,045 - INFO - Requête reçue: GET http://sms.ville-latronche.fr/static/css/accueil.css | IP: 127.0.0.1
2025-04-15 16:37:16,046 - ERROR - Erreur non gérée: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 278, in <lambda>
    view_func=lambda **kw: self_ref().send_static_file(**kw),  # type: ignore # noqa: B950
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 326, in send_static_file
    return send_from_directory(
           ^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/helpers.py", line 565, in send_from_directory
    return werkzeug.utils.send_from_directory(  # type: ignore[return-value]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/werkzeug/utils.py", line 575, in send_from_directory
    raise NotFound()
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
2025-04-15 16:37:16,054 - INFO - Requête reçue: GET http://sms.ville-latronche.fr/favicon.ico | IP: 127.0.0.1
2025-04-15 17:19:43,085 - INFO - Requête reçue: POST http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-15 17:19:43,092 - INFO - messages : []
2025-04-15 17:19:43,094 - ERROR - Erreur non gérée: list object has no element 0
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/var/www/flaskapp.dev/app.py", line 221, in historique
    return flask.render_template('historique.html', messages=messages)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/lib/python3/dist-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "/var/www/flaskapp.dev/templates/historique.html", line 33, in top-level template code
    <tr>
  File "/usr/lib/python3/dist-packages/jinja2/environment.py", line 485, in getattr
    return getattr(obj, attribute)
           ^^^^^^^^^^^^^^^^^^^^^^^
jinja2.exceptions.UndefinedError: list object has no element 0
2025-04-15 17:20:25,385 - INFO - Requête reçue: POST http://sms.ville-latronche.fr/receive | IP: 127.0.0.1
2025-04-15 17:20:25,386 - ERROR - Erreur non gérée: 400 Bad Request: The browser (or proxy) sent a request that this server could not understand.
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/dist-packages/werkzeug/wrappers/request.py", line 611, in get_json
    rv = self.json_module.loads(data)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/json/provider.py", line 187, in loads
    return json.loads(s, **kwargs)
           ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.11/json/__init__.py", line 346, in loads
    return _default_decoder.decode(s)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.11/json/decoder.py", line 337, in decode
    obj, end = self.raw_decode(s, idx=_w(s, 0).end())
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3.11/json/decoder.py", line 353, in raw_decode
    obj, end = self.scan_once(s, idx)
               ^^^^^^^^^^^^^^^^^^^^^^
json.decoder.JSONDecodeError: Expecting ',' delimiter: line 1 column 32 (char 31)

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/dist-packages/flask/wrappers.py", line 214, in on_json_loading_failed
    return super().on_json_loading_failed(e)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/werkzeug/wrappers/request.py", line 645, in on_json_loading_failed
    raise BadRequest(f"Failed to decode JSON object: {e}")
werkzeug.exceptions.BadRequest: 400 Bad Request: Failed to decode JSON object: Expecting ',' delimiter: line 1 column 32 (char 31)

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/var/www/flaskapp.dev/app.py", line 132, in decorated_function
    return f(*args, **kwargs)
           ^^^^^^^^^^^^^^^^^^
  File "/var/www/flaskapp.dev/app.py", line 142, in receive_data
    data = flask.request.get_json()
           ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/werkzeug/wrappers/request.py", line 620, in get_json
    rv = self.on_json_loading_failed(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/wrappers.py", line 219, in on_json_loading_failed
    raise BadRequest() from ebr
werkzeug.exceptions.BadRequest: 400 Bad Request: The browser (or proxy) sent a request that this server could not understand.
2025-04-15 17:20:41,101 - INFO - Requête reçue: POST http://sms.ville-latronche.fr/receive | IP: 127.0.0.1
2025-04-15 17:20:41,102 - INFO - Requête reçue: {'type': 'code', 'msg': 'hello', 'num': '0783074093'}
2025-04-15 17:20:41,102 - WARNING - Missing or invalid code field. confirmation_code: None
2025-04-15 17:20:55,447 - INFO - Requête reçue: POST http://sms.ville-latronche.fr/receive | IP: 127.0.0.1
2025-04-15 17:20:55,448 - INFO - Requête reçue: {'type': 'msg', 'msg': 'hello', 'num': '0783074093'}
2025-04-15 17:20:55,448 - WARNING - Missing message field.
2025-04-15 17:21:06,638 - INFO - Requête reçue: POST http://sms.ville-latronche.fr/receive | IP: 127.0.0.1
2025-04-15 17:21:06,639 - INFO - Requête reçue: {'type': 'msg', 'message': 'hello', 'num': '0783074093'}
2025-04-15 17:21:06,640 - INFO - Message evoyer, numero: 0783074093, message: hello
2025-04-15 17:21:09,121 - INFO - Requête reçue: POST http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-15 17:21:09,124 - INFO - messages : [{'id': 4, 'number': '0783074093', 'content': 'hello', 'type': 'msg', 'timestamp': '2025-04-15T15:21:06', 'dateRDV': None}]
2025-04-15 17:21:09,152 - INFO - Requête reçue: GET http://sms.ville-latronche.fr/static/css/accueil.css | IP: 127.0.0.1
2025-04-15 17:21:09,154 - ERROR - Erreur non gérée: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 278, in <lambda>
    view_func=lambda **kw: self_ref().send_static_file(**kw),  # type: ignore # noqa: B950
                           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 326, in send_static_file
    return send_from_directory(
           ^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/helpers.py", line 565, in send_from_directory
    return werkzeug.utils.send_from_directory(  # type: ignore[return-value]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/werkzeug/utils.py", line 575, in send_from_directory
    raise NotFound()
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
2025-04-15 17:23:56,196 - DEBUG - Requête reçue: POST http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-15 17:23:56,204 - INFO - messages : [{'id': 4, 'number': '0783074093', 'content': 'hello', 'type': 'msg', 'timestamp': '2025-04-15T15:21:06', 'dateRDV': None}]
2025-04-15 17:26:21,417 - DEBUG - Requête reçue: POST http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-15 17:26:21,427 - INFO - messages : [{'id': 4, 'number': '0783074093', 'content': 'hello', 'type': 'msg', 'timestamp': '2025-04-15T15:21:06', 'dateRDV': None}]
2025-04-15 17:26:21,431 - ERROR - Erreur non gérée: Encountered unknown tag 'champ'. Jinja was looking for the following tags: 'elif' or 'else' or 'endif'. The innermost block that needs to be closed is 'if'.
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/var/www/flaskapp.dev/app.py", line 221, in historique
    return flask.render_template('historique.html', messages=messages)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/templating.py", line 149, in render_template
    template = app.jinja_env.get_or_select_template(template_name_or_list)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/jinja2/environment.py", line 1081, in get_or_select_template
    return self.get_template(template_name_or_list, parent, globals)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/jinja2/environment.py", line 1010, in get_template
    return self._load_template(name, globals)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/jinja2/environment.py", line 969, in _load_template
    template = self.loader.load(self, name, self.make_globals(globals))
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/jinja2/loaders.py", line 138, in load
    code = environment.compile(source, name, filename)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/jinja2/environment.py", line 768, in compile
    self.handle_exception(source=source_hint)
  File "/usr/lib/python3/dist-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "/var/www/flaskapp.dev/templates/historique.html", line 56, in template
    <td>{% if champ %} {% champ %} {% endif %}</td>
    ^^^^^^^^^^^^^^^^^^^^^^^^^
jinja2.exceptions.TemplateSyntaxError: Encountered unknown tag 'champ'. Jinja was looking for the following tags: 'elif' or 'else' or 'endif'. The innermost block that needs to be closed is 'if'.
2025-04-15 17:26:44,226 - DEBUG - Requête reçue: POST http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-15 17:26:44,237 - INFO - messages : [{'id': 4, 'number': '0783074093', 'content': 'hello', 'type': 'msg', 'timestamp': '2025-04-15T15:21:06', 'dateRDV': None}]
2025-04-15 17:26:44,244 - ERROR - Erreur non gérée: Encountered unknown tag 'champ'. Jinja was looking for the following tags: 'elif' or 'else' or 'endif'. The innermost block that needs to be closed is 'if'.
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/var/www/flaskapp.dev/app.py", line 221, in historique
    return flask.render_template('historique.html', messages=messages)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/templating.py", line 149, in render_template
    template = app.jinja_env.get_or_select_template(template_name_or_list)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/jinja2/environment.py", line 1081, in get_or_select_template
    return self.get_template(template_name_or_list, parent, globals)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/jinja2/environment.py", line 1010, in get_template
    return self._load_template(name, globals)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/jinja2/environment.py", line 969, in _load_template
    template = self.loader.load(self, name, self.make_globals(globals))
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/jinja2/loaders.py", line 138, in load
    code = environment.compile(source, name, filename)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/jinja2/environment.py", line 768, in compile
    self.handle_exception(source=source_hint)
  File "/usr/lib/python3/dist-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "/var/www/flaskapp.dev/templates/historique.html", line 56, in template
    <td>{% if champ != Nome %} {% champ %} {% endif %}</td>
    ^^^^^^^^^^^^^^^^^^^^^^^^^
jinja2.exceptions.TemplateSyntaxError: Encountered unknown tag 'champ'. Jinja was looking for the following tags: 'elif' or 'else' or 'endif'. The innermost block that needs to be closed is 'if'.
2025-04-15 17:27:15,302 - DEBUG - Requête reçue: POST http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-15 17:27:15,310 - INFO - messages : [{'id': 4, 'number': '0783074093', 'content': 'hello', 'type': 'msg', 'timestamp': '2025-04-15T15:21:06', 'dateRDV': None}]
2025-04-15 17:27:38,151 - DEBUG - Requête reçue: POST http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-15 17:27:38,171 - INFO - messages : [{'id': 4, 'number': '0783074093', 'content': 'hello', 'type': 'msg', 'timestamp': '2025-04-15T15:21:06', 'dateRDV': None}]
2025-04-15 17:27:38,219 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/favicon.ico | IP: 127.0.0.1
2025-04-15 17:30:32,338 - DEBUG - Requête reçue: POST http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-15 17:30:32,342 - INFO - messages : [{'id': 4, 'number': '0783074093', 'content': 'hello', 'type': 'msg', 'timestamp': '2025-04-15T15:21:06', 'dateRDV': None}]
2025-04-15 17:30:32,347 - ERROR - Erreur non gérée: Encountered unknown tag 'endfor'. You probably made a nesting mistake. Jinja is expecting this tag, but currently looking for 'elif' or 'else' or 'endif'. The innermost block that needs to be closed is 'if'.
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/var/www/flaskapp.dev/app.py", line 221, in historique
    return flask.render_template('historique.html', messages=messages)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/templating.py", line 149, in render_template
    template = app.jinja_env.get_or_select_template(template_name_or_list)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/jinja2/environment.py", line 1081, in get_or_select_template
    return self.get_template(template_name_or_list, parent, globals)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/jinja2/environment.py", line 1010, in get_template
    return self._load_template(name, globals)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/jinja2/environment.py", line 969, in _load_template
    template = self.loader.load(self, name, self.make_globals(globals))
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/jinja2/loaders.py", line 138, in load
    code = environment.compile(source, name, filename)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/jinja2/environment.py", line 768, in compile
    self.handle_exception(source=source_hint)
  File "/usr/lib/python3/dist-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "/var/www/flaskapp.dev/templates/historique.html", line 59, in template
    {% endfor %}
jinja2.exceptions.TemplateSyntaxError: Encountered unknown tag 'endfor'. You probably made a nesting mistake. Jinja is expecting this tag, but currently looking for 'elif' or 'else' or 'endif'. The innermost block that needs to be closed is 'if'.
2025-04-15 17:31:11,747 - DEBUG - Requête reçue: POST http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-15 17:31:11,751 - INFO - messages : [{'id': 4, 'number': '0783074093', 'content': 'hello', 'type': 'msg', 'timestamp': '2025-04-15T15:21:06', 'dateRDV': None}]
2025-04-15 17:31:11,795 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/favicon.ico | IP: 127.0.0.1
2025-04-15 17:32:16,390 - DEBUG - Requête reçue: POST http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-15 17:32:16,394 - INFO - messages : [{'id': 4, 'number': '0783074093', 'content': 'hello', 'type': 'msg', 'timestamp': '2025-04-15T15:21:06', 'dateRDV': None}]
2025-04-15 17:32:16,426 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/favicon.ico | IP: 127.0.0.1
2025-04-15 17:32:39,350 - DEBUG - Requête reçue: POST http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-15 17:32:39,352 - INFO - messages : [{'id': 1, 'number': '0783074093', 'content': "Code d'authentification :\n123456", 'type': 'code', 'timestamp': '2025-04-14T17:13:06', 'dateRDV': None}, {'id': 2, 'number': '0783074093', 'content': "Code d'authentification :\n123456", 'type': 'code', 'timestamp': '2025-04-14T17:22:28', 'dateRDV': None}, {'id': 3, 'number': '0783074093', 'content': "Code d'authentification :\n123456", 'type': 'code', 'timestamp': '2025-04-15T12:08:16', 'dateRDV': None}]
2025-04-15 17:32:42,264 - DEBUG - Requête reçue: POST http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-15 17:32:42,268 - INFO - messages : [{'id': 4, 'number': '0783074093', 'content': 'hello', 'type': 'msg', 'timestamp': '2025-04-15T15:21:06', 'dateRDV': None}]
2025-04-15 17:32:43,503 - DEBUG - Requête reçue: POST http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-15 17:32:43,506 - INFO - messages : [{'id': 1, 'number': '0783074093', 'content': "Code d'authentification :\n123456", 'type': 'code', 'timestamp': '2025-04-14T17:13:06', 'dateRDV': None}, {'id': 2, 'number': '0783074093', 'content': "Code d'authentification :\n123456", 'type': 'code', 'timestamp': '2025-04-14T17:22:28', 'dateRDV': None}, {'id': 3, 'number': '0783074093', 'content': "Code d'authentification :\n123456", 'type': 'code', 'timestamp': '2025-04-15T12:08:16', 'dateRDV': None}]
2025-04-15 17:32:44,559 - DEBUG - Requête reçue: POST http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-15 17:32:44,564 - INFO - messages : [{'id': 4, 'number': '0783074093', 'content': 'hello', 'type': 'msg', 'timestamp': '2025-04-15T15:21:06', 'dateRDV': None}]
2025-04-15 17:32:45,472 - DEBUG - Requête reçue: POST http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-15 17:32:45,476 - INFO - messages : [{'id': 1, 'number': '0783074093', 'content': "Code d'authentification :\n123456", 'type': 'code', 'timestamp': '2025-04-14T17:13:06', 'dateRDV': None}, {'id': 2, 'number': '0783074093', 'content': "Code d'authentification :\n123456", 'type': 'code', 'timestamp': '2025-04-14T17:22:28', 'dateRDV': None}, {'id': 3, 'number': '0783074093', 'content': "Code d'authentification :\n123456", 'type': 'code', 'timestamp': '2025-04-15T12:08:16', 'dateRDV': None}]
2025-04-15 17:32:46,529 - DEBUG - Requête reçue: POST http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-15 17:32:46,532 - INFO - messages : [{'id': 4, 'number': '0783074093', 'content': 'hello', 'type': 'msg', 'timestamp': '2025-04-15T15:21:06', 'dateRDV': None}]
2025-04-15 17:32:47,327 - DEBUG - Requête reçue: POST http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-15 17:32:47,331 - INFO - messages : [{'id': 4, 'number': '0783074093', 'content': 'hello', 'type': 'msg', 'timestamp': '2025-04-15T15:21:06', 'dateRDV': None}]
2025-04-15 17:32:48,233 - DEBUG - Requête reçue: POST http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-15 17:32:48,236 - INFO - messages : [{'id': 4, 'number': '0783074093', 'content': 'hello', 'type': 'msg', 'timestamp': '2025-04-15T15:21:06', 'dateRDV': None}]
2025-04-15 17:32:49,600 - DEBUG - Requête reçue: POST http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-15 17:32:49,606 - INFO - messages : [{'id': 4, 'number': '0783074093', 'content': 'hello', 'type': 'msg', 'timestamp': '2025-04-15T15:21:06', 'dateRDV': None}]
2025-04-15 17:32:50,528 - DEBUG - Requête reçue: POST http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-15 17:32:50,531 - INFO - messages : [{'id': 4, 'number': '0783074093', 'content': 'hello', 'type': 'msg', 'timestamp': '2025-04-15T15:21:06', 'dateRDV': None}]
2025-04-15 17:32:51,336 - DEBUG - Requête reçue: POST http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-15 17:32:51,339 - INFO - messages : [{'id': 4, 'number': '0783074093', 'content': 'hello', 'type': 'msg', 'timestamp': '2025-04-15T15:21:06', 'dateRDV': None}]
2025-04-15 17:32:52,936 - DEBUG - Requête reçue: POST http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-15 17:32:52,939 - INFO - messages : [{'id': 4, 'number': '0783074093', 'content': 'hello', 'type': 'msg', 'timestamp': '2025-04-15T15:21:06', 'dateRDV': None}]
2025-04-15 17:32:54,455 - DEBUG - Requête reçue: POST http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-15 17:32:54,457 - INFO - messages : [{'id': 4, 'number': '0783074093', 'content': 'hello', 'type': 'msg', 'timestamp': '2025-04-15T15:21:06', 'dateRDV': None}]
2025-04-15 17:33:03,460 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-15 17:33:05,311 - DEBUG - Requête reçue: POST http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-15 17:33:05,322 - INFO - messages : [{'id': 4, 'number': '0783074093', 'content': 'hello', 'type': 'msg', 'timestamp': '2025-04-15T15:21:06', 'dateRDV': None}]
2025-04-15 17:33:06,001 - DEBUG - Requête reçue: POST http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-15 17:33:06,010 - INFO - messages : [{'id': 4, 'number': '0783074093', 'content': 'hello', 'type': 'msg', 'timestamp': '2025-04-15T15:21:06', 'dateRDV': None}]
2025-04-15 17:33:06,616 - DEBUG - Requête reçue: POST http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-15 17:33:06,618 - INFO - messages : [{'id': 4, 'number': '0783074093', 'content': 'hello', 'type': 'msg', 'timestamp': '2025-04-15T15:21:06', 'dateRDV': None}]
2025-04-15 17:33:07,437 - DEBUG - Requête reçue: POST http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-15 17:33:07,439 - INFO - messages : [{'id': 1, 'number': '0783074093', 'content': "Code d'authentification :\n123456", 'type': 'code', 'timestamp': '2025-04-14T17:13:06', 'dateRDV': None}, {'id': 2, 'number': '0783074093', 'content': "Code d'authentification :\n123456", 'type': 'code', 'timestamp': '2025-04-14T17:22:28', 'dateRDV': None}, {'id': 3, 'number': '0783074093', 'content': "Code d'authentification :\n123456", 'type': 'code', 'timestamp': '2025-04-15T12:08:16', 'dateRDV': None}]
2025-04-15 17:33:08,072 - DEBUG - Requête reçue: POST http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-15 17:33:08,074 - INFO - messages : [{'id': 1, 'number': '0783074093', 'content': "Code d'authentification :\n123456", 'type': 'code', 'timestamp': '2025-04-14T17:13:06', 'dateRDV': None}, {'id': 2, 'number': '0783074093', 'content': "Code d'authentification :\n123456", 'type': 'code', 'timestamp': '2025-04-14T17:22:28', 'dateRDV': None}, {'id': 3, 'number': '0783074093', 'content': "Code d'authentification :\n123456", 'type': 'code', 'timestamp': '2025-04-15T12:08:16', 'dateRDV': None}]
2025-04-15 17:33:08,983 - DEBUG - Requête reçue: POST http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-15 17:33:08,986 - INFO - messages : [{'id': 4, 'number': '0783074093', 'content': 'hello', 'type': 'msg', 'timestamp': '2025-04-15T15:21:06', 'dateRDV': None}]
2025-04-15 17:33:09,451 - DEBUG - Requête reçue: POST http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-15 17:33:09,454 - INFO - messages : [{'id': 1, 'number': '0783074093', 'content': "Code d'authentification :\n123456", 'type': 'code', 'timestamp': '2025-04-14T17:13:06', 'dateRDV': None}, {'id': 2, 'number': '0783074093', 'content': "Code d'authentification :\n123456", 'type': 'code', 'timestamp': '2025-04-14T17:22:28', 'dateRDV': None}, {'id': 3, 'number': '0783074093', 'content': "Code d'authentification :\n123456", 'type': 'code', 'timestamp': '2025-04-15T12:08:16', 'dateRDV': None}]
2025-04-15 17:33:09,976 - DEBUG - Requête reçue: POST http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-15 17:33:09,978 - INFO - messages : [{'id': 4, 'number': '0783074093', 'content': 'hello', 'type': 'msg', 'timestamp': '2025-04-15T15:21:06', 'dateRDV': None}]
2025-04-15 17:33:10,383 - DEBUG - Requête reçue: POST http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-15 17:33:10,384 - INFO - messages : [{'id': 4, 'number': '0783074093', 'content': 'hello', 'type': 'msg', 'timestamp': '2025-04-15T15:21:06', 'dateRDV': None}]
2025-04-15 17:33:10,736 - DEBUG - Requête reçue: POST http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-15 17:33:10,739 - INFO - messages : [{'id': 4, 'number': '0783074093', 'content': 'hello', 'type': 'msg', 'timestamp': '2025-04-15T15:21:06', 'dateRDV': None}]
2025-04-15 17:33:11,937 - DEBUG - Requête reçue: POST http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-15 17:33:11,940 - INFO - messages : [{'id': 1, 'number': '0783074093', 'content': "Code d'authentification :\n123456", 'type': 'code', 'timestamp': '2025-04-14T17:13:06', 'dateRDV': None}, {'id': 2, 'number': '0783074093', 'content': "Code d'authentification :\n123456", 'type': 'code', 'timestamp': '2025-04-14T17:22:28', 'dateRDV': None}, {'id': 3, 'number': '0783074093', 'content': "Code d'authentification :\n123456", 'type': 'code', 'timestamp': '2025-04-15T12:08:16', 'dateRDV': None}]
2025-04-15 17:33:12,977 - DEBUG - Requête reçue: POST http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-15 17:33:12,981 - INFO - messages : []
2025-04-15 17:33:14,393 - DEBUG - Requête reçue: POST http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-15 17:33:14,397 - INFO - messages : [{'id': 1, 'number': '0783074093', 'content': "Code d'authentification :\n123456", 'type': 'code', 'timestamp': '2025-04-14T17:13:06', 'dateRDV': None}, {'id': 2, 'number': '0783074093', 'content': "Code d'authentification :\n123456", 'type': 'code', 'timestamp': '2025-04-14T17:22:28', 'dateRDV': None}, {'id': 3, 'number': '0783074093', 'content': "Code d'authentification :\n123456", 'type': 'code', 'timestamp': '2025-04-15T12:08:16', 'dateRDV': None}]
2025-04-15 17:33:15,169 - DEBUG - Requête reçue: POST http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-15 17:33:15,189 - INFO - messages : [{'id': 4, 'number': '0783074093', 'content': 'hello', 'type': 'msg', 'timestamp': '2025-04-15T15:21:06', 'dateRDV': None}]
2025-04-15 17:33:15,783 - DEBUG - Requête reçue: POST http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-15 17:33:15,787 - INFO - messages : []
2025-04-15 17:33:17,193 - DEBUG - Requête reçue: POST http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-15 17:33:17,196 - INFO - messages : [{'id': 1, 'number': '0783074093', 'content': "Code d'authentification :\n123456", 'type': 'code', 'timestamp': '2025-04-14T17:13:06', 'dateRDV': None}, {'id': 2, 'number': '0783074093', 'content': "Code d'authentification :\n123456", 'type': 'code', 'timestamp': '2025-04-14T17:22:28', 'dateRDV': None}, {'id': 3, 'number': '0783074093', 'content': "Code d'authentification :\n123456", 'type': 'code', 'timestamp': '2025-04-15T12:08:16', 'dateRDV': None}]
2025-04-15 17:33:18,048 - DEBUG - Requête reçue: POST http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-15 17:33:18,057 - INFO - messages : [{'id': 4, 'number': '0783074093', 'content': 'hello', 'type': 'msg', 'timestamp': '2025-04-15T15:21:06', 'dateRDV': None}]
2025-04-15 17:33:43,639 - DEBUG - Requête reçue: POST http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-15 17:33:43,643 - INFO - messages : [{'id': 4, 'number': '0783074093', 'content': 'hello', 'type': 'msg', 'timestamp': '2025-04-15T15:21:06', 'dateRDV': None}]
2025-04-15 17:33:43,671 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/favicon.ico | IP: 127.0.0.1
2025-04-15 17:33:46,445 - DEBUG - Requête reçue: POST http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-15 17:33:46,448 - INFO - messages : []
2025-04-15 17:33:46,481 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/favicon.ico | IP: 127.0.0.1
2025-04-15 17:33:47,257 - DEBUG - Requête reçue: POST http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-15 17:33:47,260 - INFO - messages : [{'id': 1, 'number': '0783074093', 'content': "Code d'authentification :\n123456", 'type': 'code', 'timestamp': '2025-04-14T17:13:06', 'dateRDV': None}, {'id': 2, 'number': '0783074093', 'content': "Code d'authentification :\n123456", 'type': 'code', 'timestamp': '2025-04-14T17:22:28', 'dateRDV': None}, {'id': 3, 'number': '0783074093', 'content': "Code d'authentification :\n123456", 'type': 'code', 'timestamp': '2025-04-15T12:08:16', 'dateRDV': None}]
2025-04-15 17:33:48,280 - DEBUG - Requête reçue: POST http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-15 17:33:48,283 - INFO - messages : [{'id': 4, 'number': '0783074093', 'content': 'hello', 'type': 'msg', 'timestamp': '2025-04-15T15:21:06', 'dateRDV': None}]
2025-04-15 17:33:53,232 - DEBUG - Requête reçue: POST http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-15 17:33:53,235 - INFO - messages : [{'id': 4, 'number': '0783074093', 'content': 'hello', 'type': 'msg', 'timestamp': '2025-04-15T15:21:06', 'dateRDV': None}]
2025-04-15 17:33:54,945 - DEBUG - Requête reçue: POST http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-15 17:33:54,948 - INFO - messages : [{'id': 4, 'number': '0783074093', 'content': 'hello', 'type': 'msg', 'timestamp': '2025-04-15T15:21:06', 'dateRDV': None}]
2025-04-15 17:33:56,060 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-15 17:33:56,936 - DEBUG - Requête reçue: POST http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-15 17:33:56,939 - INFO - messages : [{'id': 4, 'number': '0783074093', 'content': 'hello', 'type': 'msg', 'timestamp': '2025-04-15T15:21:06', 'dateRDV': None}]
2025-04-15 17:33:57,664 - DEBUG - Requête reçue: POST http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-15 17:33:57,666 - INFO - messages : [{'id': 1, 'number': '0783074093', 'content': "Code d'authentification :\n123456", 'type': 'code', 'timestamp': '2025-04-14T17:13:06', 'dateRDV': None}, {'id': 2, 'number': '0783074093', 'content': "Code d'authentification :\n123456", 'type': 'code', 'timestamp': '2025-04-14T17:22:28', 'dateRDV': None}, {'id': 3, 'number': '0783074093', 'content': "Code d'authentification :\n123456", 'type': 'code', 'timestamp': '2025-04-15T12:08:16', 'dateRDV': None}]
2025-04-15 17:33:58,184 - DEBUG - Requête reçue: POST http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-15 17:33:58,186 - INFO - messages : []
2025-04-15 17:34:04,777 - DEBUG - Requête reçue: POST http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-15 17:34:04,785 - INFO - messages : []
2025-04-15 17:34:04,795 - ERROR - Erreur non gérée: list object has no element 0
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/var/www/flaskapp.dev/app.py", line 221, in historique
    return flask.render_template('historique.html', messages=messages)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/lib/python3/dist-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "/var/www/flaskapp.dev/templates/historique.html", line 34, in top-level template code
    {% for champ in messages[0].keys() %}
    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/jinja2/environment.py", line 485, in getattr
    return getattr(obj, attribute)
           ^^^^^^^^^^^^^^^^^^^^^^^
jinja2.exceptions.UndefinedError: list object has no element 0
2025-04-15 17:34:08,211 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-15 17:34:09,074 - DEBUG - Requête reçue: POST http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-15 17:34:09,086 - INFO - messages : [{'id': 1, 'number': '0783074093', 'content': "Code d'authentification :\n123456", 'type': 'code', 'timestamp': '2025-04-14T17:13:06', 'dateRDV': None}, {'id': 2, 'number': '0783074093', 'content': "Code d'authentification :\n123456", 'type': 'code', 'timestamp': '2025-04-14T17:22:28', 'dateRDV': None}, {'id': 3, 'number': '0783074093', 'content': "Code d'authentification :\n123456", 'type': 'code', 'timestamp': '2025-04-15T12:08:16', 'dateRDV': None}]
2025-04-15 17:34:10,312 - DEBUG - Requête reçue: POST http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-15 17:34:10,314 - INFO - messages : [{'id': 4, 'number': '0783074093', 'content': 'hello', 'type': 'msg', 'timestamp': '2025-04-15T15:21:06', 'dateRDV': None}]
2025-04-15 17:34:11,449 - DEBUG - Requête reçue: POST http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-15 17:34:11,463 - INFO - messages : [{'id': 1, 'number': '0783074093', 'content': "Code d'authentification :\n123456", 'type': 'code', 'timestamp': '2025-04-14T17:13:06', 'dateRDV': None}, {'id': 2, 'number': '0783074093', 'content': "Code d'authentification :\n123456", 'type': 'code', 'timestamp': '2025-04-14T17:22:28', 'dateRDV': None}, {'id': 3, 'number': '0783074093', 'content': "Code d'authentification :\n123456", 'type': 'code', 'timestamp': '2025-04-15T12:08:16', 'dateRDV': None}]
2025-04-15 17:34:54,489 - DEBUG - Requête reçue: POST http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-15 17:34:54,497 - INFO - messages : [{'id': 1, 'number': '0783074093', 'content': "Code d'authentification :\n123456", 'type': 'code', 'timestamp': '2025-04-14T17:13:06', 'dateRDV': None}, {'id': 2, 'number': '0783074093', 'content': "Code d'authentification :\n123456", 'type': 'code', 'timestamp': '2025-04-14T17:22:28', 'dateRDV': None}, {'id': 3, 'number': '0783074093', 'content': "Code d'authentification :\n123456", 'type': 'code', 'timestamp': '2025-04-15T12:08:16', 'dateRDV': None}]
2025-04-15 17:34:54,538 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/favicon.ico | IP: 127.0.0.1
2025-04-15 17:34:55,997 - DEBUG - Requête reçue: POST http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-15 17:34:56,006 - INFO - messages : [{'id': 4, 'number': '0783074093', 'content': 'hello', 'type': 'msg', 'timestamp': '2025-04-15T15:21:06', 'dateRDV': None}]
2025-04-15 17:34:56,713 - DEBUG - Requête reçue: POST http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-15 17:34:56,721 - INFO - messages : [{'id': 1, 'number': '0783074093', 'content': "Code d'authentification :\n123456", 'type': 'code', 'timestamp': '2025-04-14T17:13:06', 'dateRDV': None}, {'id': 2, 'number': '0783074093', 'content': "Code d'authentification :\n123456", 'type': 'code', 'timestamp': '2025-04-14T17:22:28', 'dateRDV': None}, {'id': 3, 'number': '0783074093', 'content': "Code d'authentification :\n123456", 'type': 'code', 'timestamp': '2025-04-15T12:08:16', 'dateRDV': None}]
2025-04-15 17:34:57,909 - DEBUG - Requête reçue: POST http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-15 17:34:57,911 - INFO - messages : []
2025-04-15 17:34:57,913 - ERROR - Erreur non gérée: list object has no element 0
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/var/www/flaskapp.dev/app.py", line 221, in historique
    return flask.render_template('historique.html', messages=messages)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/lib/python3/dist-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "/var/www/flaskapp.dev/templates/historique.html", line 34, in top-level template code
    {% for champ in messages[0].keys() %}
    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/jinja2/environment.py", line 485, in getattr
    return getattr(obj, attribute)
           ^^^^^^^^^^^^^^^^^^^^^^^
jinja2.exceptions.UndefinedError: list object has no element 0
2025-04-15 17:34:59,687 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-15 17:35:00,298 - DEBUG - Requête reçue: POST http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-15 17:35:00,300 - INFO - messages : [{'id': 1, 'number': '0783074093', 'content': "Code d'authentification :\n123456", 'type': 'code', 'timestamp': '2025-04-14T17:13:06', 'dateRDV': None}, {'id': 2, 'number': '0783074093', 'content': "Code d'authentification :\n123456", 'type': 'code', 'timestamp': '2025-04-14T17:22:28', 'dateRDV': None}, {'id': 3, 'number': '0783074093', 'content': "Code d'authentification :\n123456", 'type': 'code', 'timestamp': '2025-04-15T12:08:16', 'dateRDV': None}]
2025-04-15 17:39:37,441 - DEBUG - Requête reçue: POST http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-15 17:39:37,450 - INFO - messages : [{'id': 1, 'number': '0783074093', 'content': "Code d'authentification :\n123456", 'type': 'code', 'timestamp': '2025-04-14T17:13:06', 'dateRDV': None}, {'id': 2, 'number': '0783074093', 'content': "Code d'authentification :\n123456", 'type': 'code', 'timestamp': '2025-04-14T17:22:28', 'dateRDV': None}, {'id': 3, 'number': '0783074093', 'content': "Code d'authentification :\n123456", 'type': 'code', 'timestamp': '2025-04-15T12:08:16', 'dateRDV': None}]
2025-04-15 17:39:38,101 - DEBUG - Requête reçue: POST http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-15 17:39:38,115 - INFO - messages : []
2025-04-15 17:39:45,596 - DEBUG - Requête reçue: POST http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-15 17:39:45,603 - INFO - messages : []
2025-04-15 17:39:48,348 - DEBUG - Requête reçue: POST http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-15 17:39:48,351 - INFO - messages : [{'id': 1, 'number': '0783074093', 'content': "Code d'authentification :\n123456", 'type': 'code', 'timestamp': '2025-04-14T17:13:06', 'dateRDV': None}, {'id': 2, 'number': '0783074093', 'content': "Code d'authentification :\n123456", 'type': 'code', 'timestamp': '2025-04-14T17:22:28', 'dateRDV': None}, {'id': 3, 'number': '0783074093', 'content': "Code d'authentification :\n123456", 'type': 'code', 'timestamp': '2025-04-15T12:08:16', 'dateRDV': None}]
2025-04-15 17:39:50,492 - DEBUG - Requête reçue: POST http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-15 17:39:50,498 - INFO - messages : [{'id': 4, 'number': '0783074093', 'content': 'hello', 'type': 'msg', 'timestamp': '2025-04-15T15:21:06', 'dateRDV': None}]
2025-04-15 17:43:01,260 - DEBUG - Requête reçue: POST http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-15 17:43:01,263 - ERROR - Erreur non gérée: 'Query' object has no attribute 'number'
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/var/www/flaskapp.dev/app.py", line 215, in historique
    messages = MessageDb.query.filter(MessageDb.type == type).number.label("Numero")
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'Query' object has no attribute 'number'
2025-04-15 17:43:48,654 - DEBUG - Requête reçue: POST http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-15 17:43:48,658 - ERROR - Erreur non gérée: 'Query' object has no attribute 'MessageDb'
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/var/www/flaskapp.dev/app.py", line 215, in historique
    messages = MessageDb.query.filter(MessageDb.type == type).MessageDb.number.label("Numero")
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
AttributeError: 'Query' object has no attribute 'MessageDb'
2025-04-15 18:22:48,697 - DEBUG - Requête reçue: POST http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-15 18:22:48,701 - ERROR - Erreur non gérée: 'Query' object is not callable
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/var/www/flaskapp.dev/app.py", line 215, in historique
    messages = MessageDb.query(MessageDb.number).filter(MessageDb.type == type)
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
TypeError: 'Query' object is not callable
2025-04-15 18:26:14,263 - DEBUG - Requête reçue: POST http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-15 18:26:14,277 - ERROR - Erreur non gérée: to_dict
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/dist-packages/sqlalchemy/engine/result.py", line 199, in _key_not_found
    self._key_fallback(key, None)
  File "/usr/local/lib/python3.11/dist-packages/sqlalchemy/engine/result.py", line 138, in _key_fallback
    raise KeyError(key) from err
KeyError: 'to_dict'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/var/www/flaskapp.dev/app.py", line 217, in historique
    messages = [m.to_dict() for m in messages]
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/var/www/flaskapp.dev/app.py", line 217, in <listcomp>
    messages = [m.to_dict() for m in messages]
                ^^^^^^^^^
  File "lib/sqlalchemy/cyextension/resultproxy.pyx", line 66, in sqlalchemy.cyextension.resultproxy.BaseRow.__getattr__
  File "lib/sqlalchemy/cyextension/resultproxy.pyx", line 63, in sqlalchemy.cyextension.resultproxy.BaseRow._get_by_key_impl
  File "/usr/local/lib/python3.11/dist-packages/sqlalchemy/engine/result.py", line 201, in _key_not_found
    raise AttributeError(ke.args[0]) from ke
AttributeError: to_dict
2025-04-15 18:26:37,561 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-15 18:26:38,627 - DEBUG - Requête reçue: POST http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-15 18:26:38,642 - ERROR - Erreur non gérée: to_dict
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/dist-packages/sqlalchemy/engine/result.py", line 199, in _key_not_found
    self._key_fallback(key, None)
  File "/usr/local/lib/python3.11/dist-packages/sqlalchemy/engine/result.py", line 138, in _key_fallback
    raise KeyError(key) from err
KeyError: 'to_dict'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/var/www/flaskapp.dev/app.py", line 217, in historique
    messages = [m.to_dict() for m in messages]
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/var/www/flaskapp.dev/app.py", line 217, in <listcomp>
    messages = [m.to_dict() for m in messages]
                ^^^^^^^^^
  File "lib/sqlalchemy/cyextension/resultproxy.pyx", line 66, in sqlalchemy.cyextension.resultproxy.BaseRow.__getattr__
  File "lib/sqlalchemy/cyextension/resultproxy.pyx", line 63, in sqlalchemy.cyextension.resultproxy.BaseRow._get_by_key_impl
  File "/usr/local/lib/python3.11/dist-packages/sqlalchemy/engine/result.py", line 201, in _key_not_found
    raise AttributeError(ke.args[0]) from ke
AttributeError: to_dict
2025-04-15 18:28:07,363 - DEBUG - Requête reçue: POST http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-15 18:28:07,370 - ERROR - Erreur non gérée: to_dict
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/dist-packages/sqlalchemy/engine/result.py", line 199, in _key_not_found
    self._key_fallback(key, None)
  File "/usr/local/lib/python3.11/dist-packages/sqlalchemy/engine/result.py", line 138, in _key_fallback
    raise KeyError(key) from err
KeyError: 'to_dict'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/var/www/flaskapp.dev/app.py", line 217, in historique
    messages = [m.to_dict() for m in messages]
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/var/www/flaskapp.dev/app.py", line 217, in <listcomp>
    messages = [m.to_dict() for m in messages]
                ^^^^^^^^^
  File "lib/sqlalchemy/cyextension/resultproxy.pyx", line 66, in sqlalchemy.cyextension.resultproxy.BaseRow.__getattr__
  File "lib/sqlalchemy/cyextension/resultproxy.pyx", line 63, in sqlalchemy.cyextension.resultproxy.BaseRow._get_by_key_impl
  File "/usr/local/lib/python3.11/dist-packages/sqlalchemy/engine/result.py", line 201, in _key_not_found
    raise AttributeError(ke.args[0]) from ke
AttributeError: to_dict
2025-04-15 18:28:07,373 - ERROR - Exception on /historique [POST]
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 920, in full_dispatch_request
    return self.finalize_request(rv)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 939, in finalize_request
    response = self.make_response(rv)
               ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 1249, in make_response
    raise TypeError(
TypeError: The view function did not return a valid response. The return type must be a string, dict, list, tuple with headers or status, Response instance, or WSGI callable, but it was a set.
2025-04-15 18:28:07,374 - ERROR - Erreur non gérée: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 920, in full_dispatch_request
    return self.finalize_request(rv)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 939, in finalize_request
    response = self.make_response(rv)
               ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 1249, in make_response
    raise TypeError(
TypeError: The view function did not return a valid response. The return type must be a string, dict, list, tuple with headers or status, Response instance, or WSGI callable, but it was a set.
2025-04-15 18:28:22,475 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-15 18:28:26,064 - DEBUG - Requête reçue: POST http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-15 18:28:26,074 - ERROR - Erreur non gérée: to_dict
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/dist-packages/sqlalchemy/engine/result.py", line 199, in _key_not_found
    self._key_fallback(key, None)
  File "/usr/local/lib/python3.11/dist-packages/sqlalchemy/engine/result.py", line 138, in _key_fallback
    raise KeyError(key) from err
KeyError: 'to_dict'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/var/www/flaskapp.dev/app.py", line 217, in historique
    messages = [m.to_dict() for m in messages]
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/var/www/flaskapp.dev/app.py", line 217, in <listcomp>
    messages = [m.to_dict() for m in messages]
                ^^^^^^^^^
  File "lib/sqlalchemy/cyextension/resultproxy.pyx", line 66, in sqlalchemy.cyextension.resultproxy.BaseRow.__getattr__
  File "lib/sqlalchemy/cyextension/resultproxy.pyx", line 63, in sqlalchemy.cyextension.resultproxy.BaseRow._get_by_key_impl
  File "/usr/local/lib/python3.11/dist-packages/sqlalchemy/engine/result.py", line 201, in _key_not_found
    raise AttributeError(ke.args[0]) from ke
AttributeError: to_dict
2025-04-15 18:28:26,077 - ERROR - Exception on /historique [POST]
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 920, in full_dispatch_request
    return self.finalize_request(rv)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 939, in finalize_request
    response = self.make_response(rv)
               ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 1249, in make_response
    raise TypeError(
TypeError: The view function did not return a valid response. The return type must be a string, dict, list, tuple with headers or status, Response instance, or WSGI callable, but it was a set.
2025-04-15 18:28:26,079 - ERROR - Erreur non gérée: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 920, in full_dispatch_request
    return self.finalize_request(rv)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 939, in finalize_request
    response = self.make_response(rv)
               ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 1249, in make_response
    raise TypeError(
TypeError: The view function did not return a valid response. The return type must be a string, dict, list, tuple with headers or status, Response instance, or WSGI callable, but it was a set.
2025-04-15 18:28:47,790 - DEBUG - Requête reçue: POST http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-15 18:28:47,799 - ERROR - Erreur non gérée: to_dict
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/dist-packages/sqlalchemy/engine/result.py", line 199, in _key_not_found
    self._key_fallback(key, None)
  File "/usr/local/lib/python3.11/dist-packages/sqlalchemy/engine/result.py", line 138, in _key_fallback
    raise KeyError(key) from err
KeyError: 'to_dict'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/var/www/flaskapp.dev/app.py", line 217, in historique
    messages = [m.to_dict() for m in messages]
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/var/www/flaskapp.dev/app.py", line 217, in <listcomp>
    messages = [m.to_dict() for m in messages]
                ^^^^^^^^^
  File "lib/sqlalchemy/cyextension/resultproxy.pyx", line 66, in sqlalchemy.cyextension.resultproxy.BaseRow.__getattr__
  File "lib/sqlalchemy/cyextension/resultproxy.pyx", line 63, in sqlalchemy.cyextension.resultproxy.BaseRow._get_by_key_impl
  File "/usr/local/lib/python3.11/dist-packages/sqlalchemy/engine/result.py", line 201, in _key_not_found
    raise AttributeError(ke.args[0]) from ke
AttributeError: to_dict
2025-04-15 18:29:13,247 - DEBUG - Requête reçue: POST http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-15 18:29:13,257 - ERROR - Erreur non gérée: to_dict
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/dist-packages/sqlalchemy/engine/result.py", line 199, in _key_not_found
    self._key_fallback(key, None)
  File "/usr/local/lib/python3.11/dist-packages/sqlalchemy/engine/result.py", line 138, in _key_fallback
    raise KeyError(key) from err
KeyError: 'to_dict'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/var/www/flaskapp.dev/app.py", line 217, in historique
    messages = [m.to_dict() for m in messages]
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/var/www/flaskapp.dev/app.py", line 217, in <listcomp>
    messages = [m.to_dict() for m in messages]
                ^^^^^^^^^
  File "lib/sqlalchemy/cyextension/resultproxy.pyx", line 66, in sqlalchemy.cyextension.resultproxy.BaseRow.__getattr__
  File "lib/sqlalchemy/cyextension/resultproxy.pyx", line 63, in sqlalchemy.cyextension.resultproxy.BaseRow._get_by_key_impl
  File "/usr/local/lib/python3.11/dist-packages/sqlalchemy/engine/result.py", line 201, in _key_not_found
    raise AttributeError(ke.args[0]) from ke
AttributeError: to_dict
2025-04-15 18:33:35,175 - DEBUG - Requête reçue: POST http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-15 18:33:35,183 - ERROR - Erreur non gérée: to_dict
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/dist-packages/sqlalchemy/engine/result.py", line 199, in _key_not_found
    self._key_fallback(key, None)
  File "/usr/local/lib/python3.11/dist-packages/sqlalchemy/engine/result.py", line 138, in _key_fallback
    raise KeyError(key) from err
KeyError: 'to_dict'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/var/www/flaskapp.dev/app.py", line 217, in historique
    messages = [m.to_dict() for m in messages]
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/var/www/flaskapp.dev/app.py", line 217, in <listcomp>
    messages = [m.to_dict() for m in messages]
                ^^^^^^^^^
  File "lib/sqlalchemy/cyextension/resultproxy.pyx", line 66, in sqlalchemy.cyextension.resultproxy.BaseRow.__getattr__
  File "lib/sqlalchemy/cyextension/resultproxy.pyx", line 63, in sqlalchemy.cyextension.resultproxy.BaseRow._get_by_key_impl
  File "/usr/local/lib/python3.11/dist-packages/sqlalchemy/engine/result.py", line 201, in _key_not_found
    raise AttributeError(ke.args[0]) from ke
AttributeError: to_dict
2025-04-15 18:33:35,186 - ERROR - Erreur non gérée: to_dict
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/dist-packages/sqlalchemy/engine/result.py", line 199, in _key_not_found
    self._key_fallback(key, None)
  File "/usr/local/lib/python3.11/dist-packages/sqlalchemy/engine/result.py", line 138, in _key_fallback
    raise KeyError(key) from err
KeyError: 'to_dict'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/var/www/flaskapp.dev/app.py", line 217, in historique
    messages = [m.to_dict() for m in messages]
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/var/www/flaskapp.dev/app.py", line 217, in <listcomp>
    messages = [m.to_dict() for m in messages]
                ^^^^^^^^^
  File "lib/sqlalchemy/cyextension/resultproxy.pyx", line 66, in sqlalchemy.cyextension.resultproxy.BaseRow.__getattr__
  File "lib/sqlalchemy/cyextension/resultproxy.pyx", line 63, in sqlalchemy.cyextension.resultproxy.BaseRow._get_by_key_impl
  File "/usr/local/lib/python3.11/dist-packages/sqlalchemy/engine/result.py", line 201, in _key_not_found
    raise AttributeError(ke.args[0]) from ke
AttributeError: to_dict
2025-04-15 18:33:35,187 - ERROR - Exception on /historique [POST]
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 920, in full_dispatch_request
    return self.finalize_request(rv)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 939, in finalize_request
    response = self.make_response(rv)
               ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 1212, in make_response
    raise TypeError(
TypeError: The view function for 'historique' did not return a valid response. The function either returned None or ended without a return statement.
2025-04-15 18:33:35,187 - ERROR - Erreur non gérée: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 920, in full_dispatch_request
    return self.finalize_request(rv)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 939, in finalize_request
    response = self.make_response(rv)
               ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 1212, in make_response
    raise TypeError(
TypeError: The view function for 'historique' did not return a valid response. The function either returned None or ended without a return statement.
2025-04-15 18:33:35,188 - ERROR - Erreur non gérée: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 920, in full_dispatch_request
    return self.finalize_request(rv)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 939, in finalize_request
    response = self.make_response(rv)
               ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 1212, in make_response
    raise TypeError(
TypeError: The view function for 'historique' did not return a valid response. The function either returned None or ended without a return statement.
2025-04-15 18:33:35,219 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/favicon.ico | IP: 127.0.0.1
2025-04-15 18:33:51,120 - DEBUG - Requête reçue: POST http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-15 18:33:51,131 - ERROR - Erreur non gérée: to_dict
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/dist-packages/sqlalchemy/engine/result.py", line 199, in _key_not_found
    self._key_fallback(key, None)
  File "/usr/local/lib/python3.11/dist-packages/sqlalchemy/engine/result.py", line 138, in _key_fallback
    raise KeyError(key) from err
KeyError: 'to_dict'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/var/www/flaskapp.dev/app.py", line 217, in historique
    messages = [m.to_dict() for m in messages]
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/var/www/flaskapp.dev/app.py", line 217, in <listcomp>
    messages = [m.to_dict() for m in messages]
                ^^^^^^^^^
  File "lib/sqlalchemy/cyextension/resultproxy.pyx", line 66, in sqlalchemy.cyextension.resultproxy.BaseRow.__getattr__
  File "lib/sqlalchemy/cyextension/resultproxy.pyx", line 63, in sqlalchemy.cyextension.resultproxy.BaseRow._get_by_key_impl
  File "/usr/local/lib/python3.11/dist-packages/sqlalchemy/engine/result.py", line 201, in _key_not_found
    raise AttributeError(ke.args[0]) from ke
AttributeError: to_dict
2025-04-15 18:33:51,134 - ERROR - Erreur non gérée: to_dict
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/dist-packages/sqlalchemy/engine/result.py", line 199, in _key_not_found
    self._key_fallback(key, None)
  File "/usr/local/lib/python3.11/dist-packages/sqlalchemy/engine/result.py", line 138, in _key_fallback
    raise KeyError(key) from err
KeyError: 'to_dict'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/var/www/flaskapp.dev/app.py", line 217, in historique
    messages = [m.to_dict() for m in messages]
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/var/www/flaskapp.dev/app.py", line 217, in <listcomp>
    messages = [m.to_dict() for m in messages]
                ^^^^^^^^^
  File "lib/sqlalchemy/cyextension/resultproxy.pyx", line 66, in sqlalchemy.cyextension.resultproxy.BaseRow.__getattr__
  File "lib/sqlalchemy/cyextension/resultproxy.pyx", line 63, in sqlalchemy.cyextension.resultproxy.BaseRow._get_by_key_impl
  File "/usr/local/lib/python3.11/dist-packages/sqlalchemy/engine/result.py", line 201, in _key_not_found
    raise AttributeError(ke.args[0]) from ke
AttributeError: to_dict
2025-04-15 18:33:51,136 - ERROR - Exception on /historique [POST]
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 920, in full_dispatch_request
    return self.finalize_request(rv)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 939, in finalize_request
    response = self.make_response(rv)
               ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 1212, in make_response
    raise TypeError(
TypeError: The view function for 'historique' did not return a valid response. The function either returned None or ended without a return statement.
2025-04-15 18:33:51,138 - ERROR - Erreur non gérée: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 920, in full_dispatch_request
    return self.finalize_request(rv)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 939, in finalize_request
    response = self.make_response(rv)
               ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 1212, in make_response
    raise TypeError(
TypeError: The view function for 'historique' did not return a valid response. The function either returned None or ended without a return statement.
2025-04-15 18:33:51,139 - ERROR - Erreur non gérée: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 920, in full_dispatch_request
    return self.finalize_request(rv)
           ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 939, in finalize_request
    response = self.make_response(rv)
               ^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 1212, in make_response
    raise TypeError(
TypeError: The view function for 'historique' did not return a valid response. The function either returned None or ended without a return statement.
2025-04-15 18:33:51,166 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/favicon.ico | IP: 127.0.0.1
2025-04-15 18:34:47,022 - DEBUG - Requête reçue: POST http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-15 18:34:47,030 - ERROR - Erreur non gérée: to_dict
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/dist-packages/sqlalchemy/engine/result.py", line 199, in _key_not_found
    self._key_fallback(key, None)
  File "/usr/local/lib/python3.11/dist-packages/sqlalchemy/engine/result.py", line 138, in _key_fallback
    raise KeyError(key) from err
KeyError: 'to_dict'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/var/www/flaskapp.dev/app.py", line 217, in historique
    messages = [m.to_dict() for m in messages]
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/var/www/flaskapp.dev/app.py", line 217, in <listcomp>
    messages = [m.to_dict() for m in messages]
                ^^^^^^^^^
  File "lib/sqlalchemy/cyextension/resultproxy.pyx", line 66, in sqlalchemy.cyextension.resultproxy.BaseRow.__getattr__
  File "lib/sqlalchemy/cyextension/resultproxy.pyx", line 63, in sqlalchemy.cyextension.resultproxy.BaseRow._get_by_key_impl
  File "/usr/local/lib/python3.11/dist-packages/sqlalchemy/engine/result.py", line 201, in _key_not_found
    raise AttributeError(ke.args[0]) from ke
AttributeError: to_dict
2025-04-15 18:34:47,032 - ERROR - Exception on /historique [POST]
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/dist-packages/sqlalchemy/engine/result.py", line 199, in _key_not_found
    self._key_fallback(key, None)
  File "/usr/local/lib/python3.11/dist-packages/sqlalchemy/engine/result.py", line 138, in _key_fallback
    raise KeyError(key) from err
KeyError: 'to_dict'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/var/www/flaskapp.dev/app.py", line 217, in historique
    messages = [m.to_dict() for m in messages]
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/var/www/flaskapp.dev/app.py", line 217, in <listcomp>
    messages = [m.to_dict() for m in messages]
                ^^^^^^^^^
  File "lib/sqlalchemy/cyextension/resultproxy.pyx", line 66, in sqlalchemy.cyextension.resultproxy.BaseRow.__getattr__
  File "lib/sqlalchemy/cyextension/resultproxy.pyx", line 63, in sqlalchemy.cyextension.resultproxy.BaseRow._get_by_key_impl
  File "/usr/local/lib/python3.11/dist-packages/sqlalchemy/engine/result.py", line 201, in _key_not_found
    raise AttributeError(ke.args[0]) from ke
AttributeError: to_dict

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 809, in handle_user_exception
    return self.ensure_sync(handler)(e)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/var/www/flaskapp.dev/app.py", line 123, in handle_exception
    return app.error(f"Erreur non gérée: {str(e)}", exc_info=True), 500
           ^^^^^^^^^
AttributeError: 'Flask' object has no attribute 'error'
2025-04-15 18:34:47,033 - ERROR - Erreur non gérée: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/dist-packages/sqlalchemy/engine/result.py", line 199, in _key_not_found
    self._key_fallback(key, None)
  File "/usr/local/lib/python3.11/dist-packages/sqlalchemy/engine/result.py", line 138, in _key_fallback
    raise KeyError(key) from err
KeyError: 'to_dict'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/var/www/flaskapp.dev/app.py", line 217, in historique
    messages = [m.to_dict() for m in messages]
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/var/www/flaskapp.dev/app.py", line 217, in <listcomp>
    messages = [m.to_dict() for m in messages]
                ^^^^^^^^^
  File "lib/sqlalchemy/cyextension/resultproxy.pyx", line 66, in sqlalchemy.cyextension.resultproxy.BaseRow.__getattr__
  File "lib/sqlalchemy/cyextension/resultproxy.pyx", line 63, in sqlalchemy.cyextension.resultproxy.BaseRow._get_by_key_impl
  File "/usr/local/lib/python3.11/dist-packages/sqlalchemy/engine/result.py", line 201, in _key_not_found
    raise AttributeError(ke.args[0]) from ke
AttributeError: to_dict

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 809, in handle_user_exception
    return self.ensure_sync(handler)(e)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/var/www/flaskapp.dev/app.py", line 123, in handle_exception
    return app.error(f"Erreur non gérée: {str(e)}", exc_info=True), 500
           ^^^^^^^^^
AttributeError: 'Flask' object has no attribute 'error'
2025-04-15 18:34:47,058 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/favicon.ico | IP: 127.0.0.1
2025-04-15 18:35:07,705 - DEBUG - Requête reçue: POST http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-15 18:35:07,738 - ERROR - Erreur non gérée: to_dict
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/dist-packages/sqlalchemy/engine/result.py", line 199, in _key_not_found
    self._key_fallback(key, None)
  File "/usr/local/lib/python3.11/dist-packages/sqlalchemy/engine/result.py", line 138, in _key_fallback
    raise KeyError(key) from err
KeyError: 'to_dict'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/var/www/flaskapp.dev/app.py", line 217, in historique
    messages = [m.to_dict() for m in messages]
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/var/www/flaskapp.dev/app.py", line 217, in <listcomp>
    messages = [m.to_dict() for m in messages]
                ^^^^^^^^^
  File "lib/sqlalchemy/cyextension/resultproxy.pyx", line 66, in sqlalchemy.cyextension.resultproxy.BaseRow.__getattr__
  File "lib/sqlalchemy/cyextension/resultproxy.pyx", line 63, in sqlalchemy.cyextension.resultproxy.BaseRow._get_by_key_impl
  File "/usr/local/lib/python3.11/dist-packages/sqlalchemy/engine/result.py", line 201, in _key_not_found
    raise AttributeError(ke.args[0]) from ke
AttributeError: to_dict
2025-04-15 18:36:06,788 - DEBUG - Requête reçue: POST http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-15 18:36:06,804 - ERROR - Erreur non gérée: to_dict
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/dist-packages/sqlalchemy/engine/result.py", line 199, in _key_not_found
    self._key_fallback(key, None)
  File "/usr/local/lib/python3.11/dist-packages/sqlalchemy/engine/result.py", line 138, in _key_fallback
    raise KeyError(key) from err
KeyError: 'to_dict'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/var/www/flaskapp.dev/app.py", line 217, in historique
    messages = [m.to_dict() for m in messages]
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/var/www/flaskapp.dev/app.py", line 217, in <listcomp>
    messages = [m.to_dict() for m in messages]
                ^^^^^^^^^
  File "lib/sqlalchemy/cyextension/resultproxy.pyx", line 66, in sqlalchemy.cyextension.resultproxy.BaseRow.__getattr__
  File "lib/sqlalchemy/cyextension/resultproxy.pyx", line 63, in sqlalchemy.cyextension.resultproxy.BaseRow._get_by_key_impl
  File "/usr/local/lib/python3.11/dist-packages/sqlalchemy/engine/result.py", line 201, in _key_not_found
    raise AttributeError(ke.args[0]) from ke
AttributeError: to_dict
2025-04-15 18:36:06,809 - ERROR - Exception on /historique [POST]
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/dist-packages/sqlalchemy/engine/result.py", line 199, in _key_not_found
    self._key_fallback(key, None)
  File "/usr/local/lib/python3.11/dist-packages/sqlalchemy/engine/result.py", line 138, in _key_fallback
    raise KeyError(key) from err
KeyError: 'to_dict'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/var/www/flaskapp.dev/app.py", line 217, in historique
    messages = [m.to_dict() for m in messages]
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/var/www/flaskapp.dev/app.py", line 217, in <listcomp>
    messages = [m.to_dict() for m in messages]
                ^^^^^^^^^
  File "lib/sqlalchemy/cyextension/resultproxy.pyx", line 66, in sqlalchemy.cyextension.resultproxy.BaseRow.__getattr__
  File "lib/sqlalchemy/cyextension/resultproxy.pyx", line 63, in sqlalchemy.cyextension.resultproxy.BaseRow._get_by_key_impl
  File "/usr/local/lib/python3.11/dist-packages/sqlalchemy/engine/result.py", line 201, in _key_not_found
    raise AttributeError(ke.args[0]) from ke
AttributeError: to_dict

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 809, in handle_user_exception
    return self.ensure_sync(handler)(e)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/var/www/flaskapp.dev/app.py", line 123, in handle_exception
    return {"error": f"Erreur non gérée: {str(e)} {exec()}"}, 500
                                                   ^^^^^^
TypeError: exec() takes at least 1 positional argument (0 given)
2025-04-15 18:36:06,815 - ERROR - Erreur non gérée: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/dist-packages/sqlalchemy/engine/result.py", line 199, in _key_not_found
    self._key_fallback(key, None)
  File "/usr/local/lib/python3.11/dist-packages/sqlalchemy/engine/result.py", line 138, in _key_fallback
    raise KeyError(key) from err
KeyError: 'to_dict'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/var/www/flaskapp.dev/app.py", line 217, in historique
    messages = [m.to_dict() for m in messages]
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/var/www/flaskapp.dev/app.py", line 217, in <listcomp>
    messages = [m.to_dict() for m in messages]
                ^^^^^^^^^
  File "lib/sqlalchemy/cyextension/resultproxy.pyx", line 66, in sqlalchemy.cyextension.resultproxy.BaseRow.__getattr__
  File "lib/sqlalchemy/cyextension/resultproxy.pyx", line 63, in sqlalchemy.cyextension.resultproxy.BaseRow._get_by_key_impl
  File "/usr/local/lib/python3.11/dist-packages/sqlalchemy/engine/result.py", line 201, in _key_not_found
    raise AttributeError(ke.args[0]) from ke
AttributeError: to_dict

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 809, in handle_user_exception
    return self.ensure_sync(handler)(e)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/var/www/flaskapp.dev/app.py", line 123, in handle_exception
    return {"error": f"Erreur non gérée: {str(e)} {exec()}"}, 500
                                                   ^^^^^^
TypeError: exec() takes at least 1 positional argument (0 given)
2025-04-15 18:36:06,853 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/favicon.ico | IP: 127.0.0.1
2025-04-15 18:36:22,461 - DEBUG - Requête reçue: POST http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-15 18:36:22,463 - ERROR - Erreur non gérée: to_dict
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/dist-packages/sqlalchemy/engine/result.py", line 199, in _key_not_found
    self._key_fallback(key, None)
  File "/usr/local/lib/python3.11/dist-packages/sqlalchemy/engine/result.py", line 138, in _key_fallback
    raise KeyError(key) from err
KeyError: 'to_dict'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/var/www/flaskapp.dev/app.py", line 217, in historique
    messages = [m.to_dict() for m in messages]
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/var/www/flaskapp.dev/app.py", line 217, in <listcomp>
    messages = [m.to_dict() for m in messages]
                ^^^^^^^^^
  File "lib/sqlalchemy/cyextension/resultproxy.pyx", line 66, in sqlalchemy.cyextension.resultproxy.BaseRow.__getattr__
  File "lib/sqlalchemy/cyextension/resultproxy.pyx", line 63, in sqlalchemy.cyextension.resultproxy.BaseRow._get_by_key_impl
  File "/usr/local/lib/python3.11/dist-packages/sqlalchemy/engine/result.py", line 201, in _key_not_found
    raise AttributeError(ke.args[0]) from ke
AttributeError: to_dict
2025-04-15 18:36:22,464 - ERROR - Exception on /historique [POST]
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/dist-packages/sqlalchemy/engine/result.py", line 199, in _key_not_found
    self._key_fallback(key, None)
  File "/usr/local/lib/python3.11/dist-packages/sqlalchemy/engine/result.py", line 138, in _key_fallback
    raise KeyError(key) from err
KeyError: 'to_dict'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/var/www/flaskapp.dev/app.py", line 217, in historique
    messages = [m.to_dict() for m in messages]
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/var/www/flaskapp.dev/app.py", line 217, in <listcomp>
    messages = [m.to_dict() for m in messages]
                ^^^^^^^^^
  File "lib/sqlalchemy/cyextension/resultproxy.pyx", line 66, in sqlalchemy.cyextension.resultproxy.BaseRow.__getattr__
  File "lib/sqlalchemy/cyextension/resultproxy.pyx", line 63, in sqlalchemy.cyextension.resultproxy.BaseRow._get_by_key_impl
  File "/usr/local/lib/python3.11/dist-packages/sqlalchemy/engine/result.py", line 201, in _key_not_found
    raise AttributeError(ke.args[0]) from ke
AttributeError: to_dict

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 809, in handle_user_exception
    return self.ensure_sync(handler)(e)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/var/www/flaskapp.dev/app.py", line 123, in handle_exception
    return {"error": f"Erreur non gérée: {str(e)}"}, 500
                                                   ^^^^^^
TypeError: exec() takes at least 1 positional argument (0 given)
2025-04-15 18:36:22,466 - ERROR - Erreur non gérée: 500 Internal Server Error: The server encountered an internal error and was unable to complete your request. Either the server is overloaded or there is an error in the application.
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/dist-packages/sqlalchemy/engine/result.py", line 199, in _key_not_found
    self._key_fallback(key, None)
  File "/usr/local/lib/python3.11/dist-packages/sqlalchemy/engine/result.py", line 138, in _key_fallback
    raise KeyError(key) from err
KeyError: 'to_dict'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/var/www/flaskapp.dev/app.py", line 217, in historique
    messages = [m.to_dict() for m in messages]
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/var/www/flaskapp.dev/app.py", line 217, in <listcomp>
    messages = [m.to_dict() for m in messages]
                ^^^^^^^^^
  File "lib/sqlalchemy/cyextension/resultproxy.pyx", line 66, in sqlalchemy.cyextension.resultproxy.BaseRow.__getattr__
  File "lib/sqlalchemy/cyextension/resultproxy.pyx", line 63, in sqlalchemy.cyextension.resultproxy.BaseRow._get_by_key_impl
  File "/usr/local/lib/python3.11/dist-packages/sqlalchemy/engine/result.py", line 201, in _key_not_found
    raise AttributeError(ke.args[0]) from ke
AttributeError: to_dict

During handling of the above exception, another exception occurred:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 1511, in wsgi_app
    response = self.full_dispatch_request()
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 919, in full_dispatch_request
    rv = self.handle_user_exception(e)
         ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 809, in handle_user_exception
    return self.ensure_sync(handler)(e)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/var/www/flaskapp.dev/app.py", line 123, in handle_exception
    return {"error": f"Erreur non gérée: {str(e)}"}, 500
                                                   ^^^^^^
TypeError: exec() takes at least 1 positional argument (0 given)
2025-04-15 18:36:22,496 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/favicon.ico | IP: 127.0.0.1
2025-04-15 18:36:28,588 - DEBUG - Requête reçue: POST http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-15 18:36:28,620 - ERROR - Erreur non gérée: to_dict
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/dist-packages/sqlalchemy/engine/result.py", line 199, in _key_not_found
    self._key_fallback(key, None)
  File "/usr/local/lib/python3.11/dist-packages/sqlalchemy/engine/result.py", line 138, in _key_fallback
    raise KeyError(key) from err
KeyError: 'to_dict'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/var/www/flaskapp.dev/app.py", line 217, in historique
    messages = [m.to_dict() for m in messages]
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/var/www/flaskapp.dev/app.py", line 217, in <listcomp>
    messages = [m.to_dict() for m in messages]
                ^^^^^^^^^
  File "lib/sqlalchemy/cyextension/resultproxy.pyx", line 66, in sqlalchemy.cyextension.resultproxy.BaseRow.__getattr__
  File "lib/sqlalchemy/cyextension/resultproxy.pyx", line 63, in sqlalchemy.cyextension.resultproxy.BaseRow._get_by_key_impl
  File "/usr/local/lib/python3.11/dist-packages/sqlalchemy/engine/result.py", line 201, in _key_not_found
    raise AttributeError(ke.args[0]) from ke
AttributeError: to_dict
2025-04-15 18:38:19,394 - DEBUG - Requête reçue: POST http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-15 18:38:19,402 - ERROR - Erreur non gérée: to_dict
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/dist-packages/sqlalchemy/engine/result.py", line 199, in _key_not_found
    self._key_fallback(key, None)
  File "/usr/local/lib/python3.11/dist-packages/sqlalchemy/engine/result.py", line 138, in _key_fallback
    raise KeyError(key) from err
KeyError: 'to_dict'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/var/www/flaskapp.dev/app.py", line 217, in historique
    messages = [m.to_dict() for m in messages]
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/var/www/flaskapp.dev/app.py", line 217, in <listcomp>
    messages = [m.to_dict() for m in messages]
                ^^^^^^^^^
  File "lib/sqlalchemy/cyextension/resultproxy.pyx", line 66, in sqlalchemy.cyextension.resultproxy.BaseRow.__getattr__
  File "lib/sqlalchemy/cyextension/resultproxy.pyx", line 63, in sqlalchemy.cyextension.resultproxy.BaseRow._get_by_key_impl
  File "/usr/local/lib/python3.11/dist-packages/sqlalchemy/engine/result.py", line 201, in _key_not_found
    raise AttributeError(ke.args[0]) from ke
AttributeError: to_dict
2025-04-16 14:14:40,145 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/ | IP: 127.0.0.1
2025-04-16 14:14:46,114 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-16 14:14:49,143 - DEBUG - Requête reçue: POST http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-16 14:14:49,196 - INFO - messages : []
2025-04-16 14:14:50,427 - DEBUG - Requête reçue: POST http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-16 14:14:50,444 - ERROR - Erreur non gérée: to_dict
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/dist-packages/sqlalchemy/engine/result.py", line 199, in _key_not_found
    self._key_fallback(key, None)
  File "/usr/local/lib/python3.11/dist-packages/sqlalchemy/engine/result.py", line 138, in _key_fallback
    raise KeyError(key) from err
KeyError: 'to_dict'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/var/www/flaskapp.dev/app.py", line 217, in historique
    messages = [m.to_dict() for m in messages]
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/var/www/flaskapp.dev/app.py", line 217, in <listcomp>
    messages = [m.to_dict() for m in messages]
                ^^^^^^^^^
  File "lib/sqlalchemy/cyextension/resultproxy.pyx", line 66, in sqlalchemy.cyextension.resultproxy.BaseRow.__getattr__
  File "lib/sqlalchemy/cyextension/resultproxy.pyx", line 63, in sqlalchemy.cyextension.resultproxy.BaseRow._get_by_key_impl
  File "/usr/local/lib/python3.11/dist-packages/sqlalchemy/engine/result.py", line 201, in _key_not_found
    raise AttributeError(ke.args[0]) from ke
AttributeError: to_dict
2025-04-16 14:20:02,589 - DEBUG - Requête reçue: POST http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-16 14:20:02,604 - ERROR - Erreur non gérée: to_dict
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/dist-packages/sqlalchemy/engine/result.py", line 199, in _key_not_found
    self._key_fallback(key, None)
  File "/usr/local/lib/python3.11/dist-packages/sqlalchemy/engine/result.py", line 138, in _key_fallback
    raise KeyError(key) from err
KeyError: 'to_dict'

The above exception was the direct cause of the following exception:

Traceback (most recent call last):
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/var/www/flaskapp.dev/app.py", line 229, in historique
    messages = [m.to_dict() for m in messages]
               ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/var/www/flaskapp.dev/app.py", line 229, in <listcomp>
    messages = [m.to_dict() for m in messages]
                ^^^^^^^^^
  File "lib/sqlalchemy/cyextension/resultproxy.pyx", line 66, in sqlalchemy.cyextension.resultproxy.BaseRow.__getattr__
  File "lib/sqlalchemy/cyextension/resultproxy.pyx", line 63, in sqlalchemy.cyextension.resultproxy.BaseRow._get_by_key_impl
  File "/usr/local/lib/python3.11/dist-packages/sqlalchemy/engine/result.py", line 201, in _key_not_found
    raise AttributeError(ke.args[0]) from ke
AttributeError: to_dict
2025-04-16 14:24:35,081 - DEBUG - Requête reçue: POST http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-16 14:24:35,095 - INFO - messages : [('2025-04-15 15:21:06', '0783074093', 'msg', 'hello'), ('2025-04-15 12:08:16', '0783074093', 'code', "Code d'authentification :\n123456"), ('2025-04-14 17:22:28', '0783074093', 'code', "Code d'authentification :\n123456"), ('2025-04-14 17:13:06', '0783074093', 'code', "Code d'authentification :\n123456")]
2025-04-16 14:24:35,104 - ERROR - Erreur non gérée: 'sqlalchemy.engine.row.Row object' has no attribute 'keys'
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/var/www/flaskapp.dev/app.py", line 236, in historique
    return flask.render_template('historique.html', messages=messages)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/lib/python3/dist-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "/var/www/flaskapp.dev/templates/historique.html", line 34, in top-level template code
    {% for champ in messages[0].keys() %}
    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/jinja2/utils.py", line 86, in from_obj
    if hasattr(obj, "jinja_pass_arg"):
       ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
jinja2.exceptions.UndefinedError: 'sqlalchemy.engine.row.Row object' has no attribute 'keys'
2025-04-16 14:25:53,120 - DEBUG - Requête reçue: POST http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-16 14:25:53,135 - INFO - messages : [{'timestamp': '2025-04-15 15:21:06', 'number': '0783074093', 'type': 'msg', 'content': 'hello'}, {'timestamp': '2025-04-15 12:08:16', 'number': '0783074093', 'type': 'code', 'content': "Code d'authentification :\n123456"}, {'timestamp': '2025-04-14 17:22:28', 'number': '0783074093', 'type': 'code', 'content': "Code d'authentification :\n123456"}, {'timestamp': '2025-04-14 17:13:06', 'number': '0783074093', 'type': 'code', 'content': "Code d'authentification :\n123456"}]
2025-04-16 14:33:30,804 - DEBUG - Requête reçue: POST http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-16 14:33:30,813 - INFO - messages : [{'timestamp': '2025-04-15 12:08:16', 'number': '0783074093', 'type': 'code', 'content': "Code d'authentification :\n123456"}, {'timestamp': '2025-04-14 17:22:28', 'number': '0783074093', 'type': 'code', 'content': "Code d'authentification :\n123456"}, {'timestamp': '2025-04-14 17:13:06', 'number': '0783074093', 'type': 'code', 'content': "Code d'authentification :\n123456"}]
2025-04-16 14:33:34,147 - DEBUG - Requête reçue: POST http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-16 14:33:34,150 - INFO - messages : []
2025-04-16 14:33:35,630 - DEBUG - Requête reçue: POST http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-16 14:33:35,632 - INFO - messages : [{'timestamp': '2025-04-15 12:08:16', 'number': '0783074093', 'type': 'code', 'content': "Code d'authentification :\n123456"}, {'timestamp': '2025-04-14 17:22:28', 'number': '0783074093', 'type': 'code', 'content': "Code d'authentification :\n123456"}, {'timestamp': '2025-04-14 17:13:06', 'number': '0783074093', 'type': 'code', 'content': "Code d'authentification :\n123456"}]
2025-04-16 14:33:36,739 - DEBUG - Requête reçue: POST http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-16 14:33:36,752 - INFO - messages : [{'timestamp': '2025-04-15 15:21:06', 'number': '0783074093', 'type': 'msg', 'content': 'hello'}]
2025-04-16 14:33:37,963 - DEBUG - Requête reçue: POST http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-16 14:33:37,965 - INFO - messages : [{'timestamp': '2025-04-15 12:08:16', 'number': '0783074093', 'type': 'code', 'content': "Code d'authentification :\n123456"}, {'timestamp': '2025-04-14 17:22:28', 'number': '0783074093', 'type': 'code', 'content': "Code d'authentification :\n123456"}, {'timestamp': '2025-04-14 17:13:06', 'number': '0783074093', 'type': 'code', 'content': "Code d'authentification :\n123456"}]
2025-04-16 14:33:38,747 - DEBUG - Requête reçue: POST http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-16 14:33:38,749 - INFO - messages : []
2025-04-16 14:35:07,701 - DEBUG - Requête reçue: POST http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-16 14:35:07,711 - INFO - messages : []
2025-04-16 14:35:15,085 - DEBUG - Requête reçue: POST http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-16 14:35:15,099 - INFO - messages : []
2025-04-16 14:35:16,474 - DEBUG - Requête reçue: POST http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-16 14:35:16,476 - INFO - messages : []
2025-04-16 14:35:17,571 - DEBUG - Requête reçue: POST http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-16 14:35:17,573 - INFO - messages : []
2025-04-16 14:35:18,163 - DEBUG - Requête reçue: POST http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-16 14:35:18,166 - INFO - messages : []
2025-04-16 14:35:18,691 - DEBUG - Requête reçue: POST http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-16 14:35:18,694 - INFO - messages : []
2025-04-16 14:35:19,437 - DEBUG - Requête reçue: POST http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-16 14:35:19,456 - INFO - messages : [{'timestamp': '2025-04-15 12:08:16', 'number': '0783074093', 'type': 'code', 'content': "Code d'authentification :\n123456"}, {'timestamp': '2025-04-14 17:22:28', 'number': '0783074093', 'type': 'code', 'content': "Code d'authentification :\n123456"}, {'timestamp': '2025-04-14 17:13:06', 'number': '0783074093', 'type': 'code', 'content': "Code d'authentification :\n123456"}]
2025-04-16 14:35:20,056 - DEBUG - Requête reçue: POST http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-16 14:35:20,072 - INFO - messages : []
2025-04-16 14:36:53,570 - DEBUG - Requête reçue: POST http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-16 14:36:53,574 - INFO - messages : []
2025-04-16 14:36:55,685 - DEBUG - Requête reçue: POST http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-16 14:36:55,688 - INFO - messages : []
2025-04-16 14:37:03,875 - DEBUG - Requête reçue: POST http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-16 14:37:03,884 - INFO - messages : []
2025-04-16 14:37:04,963 - DEBUG - Requête reçue: POST http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-16 14:37:04,965 - INFO - messages : []
2025-04-16 14:37:05,700 - DEBUG - Requête reçue: POST http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-16 14:37:05,702 - INFO - messages : []
2025-04-16 14:37:06,212 - DEBUG - Requête reçue: POST http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-16 14:37:06,214 - INFO - messages : []
2025-04-16 14:37:06,813 - DEBUG - Requête reçue: POST http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-16 14:37:06,827 - INFO - messages : [{'timestamp': '2025-04-15 12:08:16', 'number': '0783074093', 'type': 'code', 'content': "Code d'authentification :\n123456"}, {'timestamp': '2025-04-14 17:22:28', 'number': '0783074093', 'type': 'code', 'content': "Code d'authentification :\n123456"}, {'timestamp': '2025-04-14 17:13:06', 'number': '0783074093', 'type': 'code', 'content': "Code d'authentification :\n123456"}]
2025-04-16 14:37:07,380 - DEBUG - Requête reçue: POST http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-16 14:37:07,383 - INFO - messages : []
2025-04-16 14:37:59,772 - DEBUG - Requête reçue: POST http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-16 14:37:59,782 - INFO - messages : []
2025-04-16 14:38:01,804 - DEBUG - Requête reçue: POST http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-16 14:38:01,806 - INFO - messages : [{'timestamp': '2025-04-15 15:21:06', 'number': '0783074093', 'type': 'msg', 'content': 'hello'}, {'timestamp': '2025-04-15 12:08:16', 'number': '0783074093', 'type': 'code', 'content': "Code d'authentification :\n123456"}, {'timestamp': '2025-04-14 17:22:28', 'number': '0783074093', 'type': 'code', 'content': "Code d'authentification :\n123456"}, {'timestamp': '2025-04-14 17:13:06', 'number': '0783074093', 'type': 'code', 'content': "Code d'authentification :\n123456"}]
2025-04-16 14:38:04,686 - DEBUG - Requête reçue: POST http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-16 14:38:04,691 - INFO - messages : [{'timestamp': '2025-04-15 12:08:16', 'number': '0783074093', 'type': 'code', 'content': "Code d'authentification :\n123456"}, {'timestamp': '2025-04-14 17:22:28', 'number': '0783074093', 'type': 'code', 'content': "Code d'authentification :\n123456"}, {'timestamp': '2025-04-14 17:13:06', 'number': '0783074093', 'type': 'code', 'content': "Code d'authentification :\n123456"}]
2025-04-16 14:38:05,189 - DEBUG - Requête reçue: POST http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-16 14:38:05,191 - INFO - messages : []
2025-04-16 14:38:05,755 - DEBUG - Requête reçue: POST http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-16 14:38:05,770 - INFO - messages : [{'timestamp': '2025-04-15 15:21:06', 'number': '0783074093', 'type': 'msg', 'content': 'hello'}, {'timestamp': '2025-04-15 12:08:16', 'number': '0783074093', 'type': 'code', 'content': "Code d'authentification :\n123456"}, {'timestamp': '2025-04-14 17:22:28', 'number': '0783074093', 'type': 'code', 'content': "Code d'authentification :\n123456"}, {'timestamp': '2025-04-14 17:13:06', 'number': '0783074093', 'type': 'code', 'content': "Code d'authentification :\n123456"}]
2025-04-16 17:01:24,287 - DEBUG - Requête reçue: POST http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-16 17:01:24,308 - INFO - messages : [{'timestamp': '2025-04-15 15:21:06', 'number': '0783074093', 'type': 'msg', 'content': 'hello'}]
2025-04-16 17:01:26,351 - DEBUG - Requête reçue: POST http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-16 17:01:26,376 - INFO - messages : [{'timestamp': '2025-04-15 12:08:16', 'number': '0783074093', 'type': 'code', 'content': "Code d'authentification :\n123456"}, {'timestamp': '2025-04-14 17:22:28', 'number': '0783074093', 'type': 'code', 'content': "Code d'authentification :\n123456"}, {'timestamp': '2025-04-14 17:13:06', 'number': '0783074093', 'type': 'code', 'content': "Code d'authentification :\n123456"}]
2025-04-16 17:01:34,343 - DEBUG - Requête reçue: POST http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-16 17:01:34,351 - INFO - messages : []
2025-04-16 17:02:14,160 - DEBUG - Requête reçue: POST http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-16 17:02:14,182 - INFO - messages : []
2025-04-16 17:02:14,971 - DEBUG - Requête reçue: POST http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-16 17:02:14,974 - INFO - messages : [{'timestamp': '2025-04-15 12:08:16', 'number': '0783074093', 'type': 'code', 'content': "Code d'authentification :\n123456"}, {'timestamp': '2025-04-14 17:22:28', 'number': '0783074093', 'type': 'code', 'content': "Code d'authentification :\n123456"}, {'timestamp': '2025-04-14 17:13:06', 'number': '0783074093', 'type': 'code', 'content': "Code d'authentification :\n123456"}]
2025-04-16 17:03:57,245 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/ | IP: 127.0.0.1
2025-04-16 17:04:15,194 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/test | IP: 127.0.0.1
2025-04-16 17:12:59,433 - DEBUG - Requête reçue: POST http://sms.ville-latronche.fr/rappel | IP: 127.0.0.1
2025-04-16 17:12:59,435 - DEBUG - {'Numero': '0783074093', 'Date': '2025-04-17', 'Heure': '15:20', 'Type': 'naissance', 'Message': 'Rappel : Rendez-vous pour une consultation naissance le jeudi 17/04/2025 à 15:20.'}
2025-04-16 17:20:48,202 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/ | IP: 127.0.0.1
2025-04-16 17:20:53,307 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/test | IP: 127.0.0.1
2025-04-16 17:21:08,069 - DEBUG - Requête reçue: POST http://sms.ville-latronche.fr/rappel | IP: 127.0.0.1
2025-04-16 17:21:08,071 - DEBUG - {'Numero': '0783074093', 'Date': '2025-04-08', 'Heure': '10:10', 'Type': 'naissance', 'Message': 'Rappel : Rendez-vous pour une consultation naissance le mardi 08/04/2025 à 10:10.'}
2025-04-16 17:21:29,186 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-16 17:21:29,202 - ERROR - Erreur non gérée: None has no element 0
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/var/www/flaskapp.dev/app.py", line 228, in historique
    return flask.render_template('historique.html', messages=None)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/templating.py", line 131, in _render
    rv = template.render(context)
         ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/jinja2/environment.py", line 1301, in render
    self.environment.handle_exception()
  File "/usr/lib/python3/dist-packages/jinja2/environment.py", line 936, in handle_exception
    raise rewrite_traceback_stack(source=source)
  File "/var/www/flaskapp.dev/templates/historique.html", line 36, in top-level template code
    {% for champ in messages[0].keys() %}
    ^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/lib/python3/dist-packages/jinja2/environment.py", line 485, in getattr
    return getattr(obj, attribute)
           ^^^^^^^^^^^^^^^^^^^^^^^
jinja2.exceptions.UndefinedError: None has no element 0
2025-04-16 17:23:59,381 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-16 17:24:01,264 - DEBUG - Requête reçue: POST http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-16 17:24:01,274 - INFO - messages : [{'timestamp': '2025-04-16 15:21:15', 'number': '0783074093', 'type': 'rdv', 'content': 'Rappel : Rendez-vous pour une consultation naissance le mardi 08/04/2025 à 10:10.'}]
2025-04-16 17:24:14,323 - DEBUG - Requête reçue: POST http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-16 17:24:14,325 - INFO - messages : [{'timestamp': '2025-04-15 15:21:06', 'number': '0783074093', 'type': 'msg', 'content': 'hello'}]
2025-04-16 17:24:15,522 - DEBUG - Requête reçue: POST http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-16 17:24:15,532 - INFO - messages : [{'timestamp': '2025-04-15 12:08:16', 'number': '0783074093', 'type': 'code', 'content': "Code d'authentification :\n123456"}, {'timestamp': '2025-04-14 17:22:28', 'number': '0783074093', 'type': 'code', 'content': "Code d'authentification :\n123456"}, {'timestamp': '2025-04-14 17:13:06', 'number': '0783074093', 'type': 'code', 'content': "Code d'authentification :\n123456"}]
2025-04-16 17:24:16,523 - DEBUG - Requête reçue: POST http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-16 17:24:16,525 - INFO - messages : [{'timestamp': '2025-04-16 15:21:15', 'number': '0783074093', 'type': 'rdv', 'content': 'Rappel : Rendez-vous pour une consultation naissance le mardi 08/04/2025 à 10:10.'}]
2025-04-16 17:24:17,547 - DEBUG - Requête reçue: POST http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-16 17:24:17,549 - INFO - messages : [{'timestamp': '2025-04-15 15:21:06', 'number': '0783074093', 'type': 'msg', 'content': 'hello'}]
2025-04-16 17:24:18,804 - DEBUG - Requête reçue: POST http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-16 17:24:18,807 - INFO - messages : [{'timestamp': '2025-04-15 12:08:16', 'number': '0783074093', 'type': 'code', 'content': "Code d'authentification :\n123456"}, {'timestamp': '2025-04-14 17:22:28', 'number': '0783074093', 'type': 'code', 'content': "Code d'authentification :\n123456"}, {'timestamp': '2025-04-14 17:13:06', 'number': '0783074093', 'type': 'code', 'content': "Code d'authentification :\n123456"}]
2025-04-16 17:24:19,402 - DEBUG - Requête reçue: POST http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-16 17:24:19,415 - INFO - messages : [{'timestamp': '2025-04-16 15:21:15', 'number': '0783074093', 'type': 'rdv', 'content': 'Rappel : Rendez-vous pour une consultation naissance le mardi 08/04/2025 à 10:10.'}]
2025-04-16 17:24:20,501 - DEBUG - Requête reçue: POST http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-16 17:24:20,527 - INFO - messages : [{'timestamp': '2025-04-15 15:21:06', 'number': '0783074093', 'type': 'msg', 'content': 'hello'}]
2025-04-16 17:24:21,683 - DEBUG - Requête reçue: POST http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-16 17:24:21,687 - INFO - messages : [{'timestamp': '2025-04-16 15:21:15', 'number': '0783074093', 'type': 'rdv', 'content': 'Rappel : Rendez-vous pour une consultation naissance le mardi 08/04/2025 à 10:10.'}]
2025-04-16 17:24:23,283 - DEBUG - Requête reçue: POST http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-16 17:24:23,286 - INFO - messages : [{'timestamp': '2025-04-15 15:21:06', 'number': '0783074093', 'type': 'msg', 'content': 'hello'}]
2025-04-16 17:24:23,956 - DEBUG - Requête reçue: POST http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-16 17:24:23,960 - INFO - messages : [{'timestamp': '2025-04-16 15:21:15', 'number': '0783074093', 'type': 'rdv', 'content': 'Rappel : Rendez-vous pour une consultation naissance le mardi 08/04/2025 à 10:10.'}]
2025-04-16 17:24:24,523 - DEBUG - Requête reçue: POST http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-16 17:24:24,530 - INFO - messages : [{'timestamp': '2025-04-15 12:08:16', 'number': '0783074093', 'type': 'code', 'content': "Code d'authentification :\n123456"}, {'timestamp': '2025-04-14 17:22:28', 'number': '0783074093', 'type': 'code', 'content': "Code d'authentification :\n123456"}, {'timestamp': '2025-04-14 17:13:06', 'number': '0783074093', 'type': 'code', 'content': "Code d'authentification :\n123456"}]
2025-04-16 17:24:25,067 - DEBUG - Requête reçue: POST http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-16 17:24:25,072 - INFO - messages : [{'timestamp': '2025-04-16 15:21:15', 'number': '0783074093', 'type': 'rdv', 'content': 'Rappel : Rendez-vous pour une consultation naissance le mardi 08/04/2025 à 10:10.'}, {'timestamp': '2025-04-15 15:21:06', 'number': '0783074093', 'type': 'msg', 'content': 'hello'}, {'timestamp': '2025-04-15 12:08:16', 'number': '0783074093', 'type': 'code', 'content': "Code d'authentification :\n123456"}, {'timestamp': '2025-04-14 17:22:28', 'number': '0783074093', 'type': 'code', 'content': "Code d'authentification :\n123456"}, {'timestamp': '2025-04-14 17:13:06', 'number': '0783074093', 'type': 'code', 'content': "Code d'authentification :\n123456"}]
2025-04-16 17:25:37,825 - DEBUG - Requête reçue: POST http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-16 17:25:37,829 - INFO - messages : [{'timestamp': '2025-04-16 15:21:15', 'number': '0783074093', 'type': 'rdv', 'content': 'Rappel : Rendez-vous pour une consultation naissance le mardi 08/04/2025 à 10:10.'}]
2025-04-16 17:26:49,715 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/ | IP: 127.0.0.1
2025-04-16 17:27:27,276 - DEBUG - Requête reçue: POST http://sms.ville-latronche.fr/ | IP: 127.0.0.1
2025-04-16 17:28:21,623 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/ | IP: 127.0.0.1
2025-04-16 17:29:23,270 - DEBUG - Requête reçue: POST http://sms.ville-latronche.fr/ | IP: 127.0.0.1
2025-04-16 17:29:49,398 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-16 17:29:50,729 - DEBUG - Requête reçue: POST http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-16 17:29:50,740 - INFO - messages : [{'timestamp': '2025-04-16 15:29:30', 'number': '0680672451', 'type': 'msg', 'content': 'SPAM dans SQL'}, {'timestamp': '2025-04-15 15:21:06', 'number': '0783074093', 'type': 'msg', 'content': 'hello'}]
2025-04-16 17:29:55,410 - DEBUG - Requête reçue: POST http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-16 17:29:55,421 - INFO - messages : [{'timestamp': '2025-04-15 12:08:16', 'number': '0783074093', 'type': 'code', 'content': "Code d'authentification :\n123456"}, {'timestamp': '2025-04-14 17:22:28', 'number': '0783074093', 'type': 'code', 'content': "Code d'authentification :\n123456"}, {'timestamp': '2025-04-14 17:13:06', 'number': '0783074093', 'type': 'code', 'content': "Code d'authentification :\n123456"}]
2025-04-16 17:29:55,810 - DEBUG - Requête reçue: POST http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-16 17:29:55,813 - INFO - messages : [{'timestamp': '2025-04-16 15:21:15', 'number': '0783074093', 'type': 'rdv', 'content': 'Rappel : Rendez-vous pour une consultation naissance le mardi 08/04/2025 à 10:10.'}]
2025-04-16 17:29:56,194 - DEBUG - Requête reçue: POST http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-16 17:29:56,198 - INFO - messages : [{'timestamp': '2025-04-16 15:29:30', 'number': '0680672451', 'type': 'msg', 'content': 'SPAM dans SQL'}, {'timestamp': '2025-04-16 15:21:15', 'number': '0783074093', 'type': 'rdv', 'content': 'Rappel : Rendez-vous pour une consultation naissance le mardi 08/04/2025 à 10:10.'}, {'timestamp': '2025-04-15 15:21:06', 'number': '0783074093', 'type': 'msg', 'content': 'hello'}, {'timestamp': '2025-04-15 12:08:16', 'number': '0783074093', 'type': 'code', 'content': "Code d'authentification :\n123456"}, {'timestamp': '2025-04-14 17:22:28', 'number': '0783074093', 'type': 'code', 'content': "Code d'authentification :\n123456"}, {'timestamp': '2025-04-14 17:13:06', 'number': '0783074093', 'type': 'code', 'content': "Code d'authentification :\n123456"}]
2025-04-16 17:29:56,994 - DEBUG - Requête reçue: POST http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-16 17:29:57,013 - INFO - messages : [{'timestamp': '2025-04-16 15:29:30', 'number': '0680672451', 'type': 'msg', 'content': 'SPAM dans SQL'}, {'timestamp': '2025-04-15 15:21:06', 'number': '0783074093', 'type': 'msg', 'content': 'hello'}]
2025-04-16 17:29:58,362 - DEBUG - Requête reçue: POST http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-16 17:29:58,369 - INFO - messages : [{'timestamp': '2025-04-16 15:29:30', 'number': '0680672451', 'type': 'msg', 'content': 'SPAM dans SQL'}, {'timestamp': '2025-04-16 15:21:15', 'number': '0783074093', 'type': 'rdv', 'content': 'Rappel : Rendez-vous pour une consultation naissance le mardi 08/04/2025 à 10:10.'}, {'timestamp': '2025-04-15 15:21:06', 'number': '0783074093', 'type': 'msg', 'content': 'hello'}, {'timestamp': '2025-04-15 12:08:16', 'number': '0783074093', 'type': 'code', 'content': "Code d'authentification :\n123456"}, {'timestamp': '2025-04-14 17:22:28', 'number': '0783074093', 'type': 'code', 'content': "Code d'authentification :\n123456"}, {'timestamp': '2025-04-14 17:13:06', 'number': '0783074093', 'type': 'code', 'content': "Code d'authentification :\n123456"}]
2025-04-16 17:37:25,404 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/ | IP: 127.0.0.1
2025-04-16 17:37:32,387 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/message | IP: 127.0.0.1
2025-04-16 17:37:32,387 - ERROR - Erreur non gérée: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
2025-04-16 17:37:52,946 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/rdv | IP: 127.0.0.1
2025-04-16 17:37:52,946 - ERROR - Erreur non gérée: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
2025-04-16 17:37:55,462 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-16 17:38:31,931 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/ | IP: 127.0.0.1
2025-04-16 17:38:31,953 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/favicon.ico | IP: 127.0.0.1
2025-04-16 17:38:33,285 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/msg | IP: 127.0.0.1
2025-04-16 17:38:33,285 - ERROR - Erreur non gérée: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
2025-04-16 17:38:54,818 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/ | IP: 127.0.0.1
2025-04-16 17:38:55,059 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/ | IP: 127.0.0.1
2025-04-16 17:38:55,568 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/msg | IP: 127.0.0.1
2025-04-16 17:38:58,010 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/rappel | IP: 127.0.0.1
2025-04-16 17:39:01,044 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-16 17:39:27,341 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-16 17:43:02,572 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-16 17:43:02,646 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/styles.css | IP: 127.0.0.1
2025-04-16 17:43:02,646 - ERROR - Erreur non gérée: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
2025-04-16 17:43:07,076 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-16 17:43:07,120 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/styles.css | IP: 127.0.0.1
2025-04-16 17:43:07,121 - ERROR - Erreur non gérée: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
2025-04-16 17:43:09,632 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/msg | IP: 127.0.0.1
2025-04-16 17:44:38,899 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/msg | IP: 127.0.0.1
2025-04-16 17:44:38,925 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/styles.css | IP: 127.0.0.1
2025-04-16 17:44:38,925 - ERROR - Erreur non gérée: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
2025-04-16 17:44:38,935 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/favicon.ico | IP: 127.0.0.1
2025-04-16 17:44:44,022 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/msg | IP: 127.0.0.1
2025-04-16 17:44:44,053 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/styles.css | IP: 127.0.0.1
2025-04-16 17:44:44,054 - ERROR - Erreur non gérée: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
2025-04-16 17:44:45,183 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/rappel | IP: 127.0.0.1
2025-04-16 17:44:45,220 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/styles.css | IP: 127.0.0.1
2025-04-16 17:44:45,220 - ERROR - Erreur non gérée: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
2025-04-16 17:44:46,241 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-16 17:44:46,285 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/styles.css | IP: 127.0.0.1
2025-04-16 17:44:46,285 - ERROR - Erreur non gérée: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
2025-04-16 17:44:47,950 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/msg | IP: 127.0.0.1
2025-04-16 17:44:47,975 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/styles.css | IP: 127.0.0.1
2025-04-16 17:44:47,976 - ERROR - Erreur non gérée: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
2025-04-16 17:44:49,170 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/rappel | IP: 127.0.0.1
2025-04-16 17:44:49,198 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/styles.css | IP: 127.0.0.1
2025-04-16 17:44:49,199 - ERROR - Erreur non gérée: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
2025-04-16 17:44:49,806 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-16 17:44:49,857 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/styles.css | IP: 127.0.0.1
2025-04-16 17:44:49,857 - ERROR - Erreur non gérée: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
2025-04-16 17:44:51,708 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/msg | IP: 127.0.0.1
2025-04-16 17:44:51,753 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/styles.css | IP: 127.0.0.1
2025-04-16 17:44:51,754 - ERROR - Erreur non gérée: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
2025-04-16 17:44:52,487 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/rappel | IP: 127.0.0.1
2025-04-16 17:44:52,521 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/styles.css | IP: 127.0.0.1
2025-04-16 17:44:52,522 - ERROR - Erreur non gérée: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
2025-04-16 17:44:53,016 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-16 17:44:53,068 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/styles.css | IP: 127.0.0.1
2025-04-16 17:44:53,069 - ERROR - Erreur non gérée: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
2025-04-16 17:44:55,467 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/msg | IP: 127.0.0.1
2025-04-16 17:44:55,514 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/styles.css | IP: 127.0.0.1
2025-04-16 17:44:55,514 - ERROR - Erreur non gérée: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
2025-04-16 17:44:55,524 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/favicon.ico | IP: 127.0.0.1
2025-04-16 17:45:18,518 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/msg | IP: 127.0.0.1
2025-04-16 17:45:18,578 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/styles.css | IP: 127.0.0.1
2025-04-16 17:45:18,578 - ERROR - Erreur non gérée: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
2025-04-16 17:45:19,007 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/msg | IP: 127.0.0.1
2025-04-16 17:45:19,037 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/styles.css | IP: 127.0.0.1
2025-04-16 17:45:19,038 - ERROR - Erreur non gérée: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
2025-04-16 17:45:23,503 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/msg | IP: 127.0.0.1
2025-04-16 17:45:23,533 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/styles.css | IP: 127.0.0.1
2025-04-16 17:45:23,534 - ERROR - Erreur non gérée: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
2025-04-16 17:45:23,547 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/favicon.ico | IP: 127.0.0.1
2025-04-16 17:46:53,947 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/msg | IP: 127.0.0.1
2025-04-16 17:46:53,989 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/styles.css | IP: 127.0.0.1
2025-04-16 17:46:53,990 - ERROR - Erreur non gérée: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
2025-04-16 17:46:54,009 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/favicon.ico | IP: 127.0.0.1
2025-04-16 17:46:55,410 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/msg | IP: 127.0.0.1
2025-04-16 17:46:55,442 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/styles.css | IP: 127.0.0.1
2025-04-16 17:46:55,443 - ERROR - Erreur non gérée: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
2025-04-16 17:46:55,455 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/favicon.ico | IP: 127.0.0.1
2025-04-16 17:46:56,063 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/rappel | IP: 127.0.0.1
2025-04-16 17:46:56,095 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/styles.css | IP: 127.0.0.1
2025-04-16 17:46:56,095 - ERROR - Erreur non gérée: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
2025-04-16 17:46:56,918 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-16 17:46:56,972 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/styles.css | IP: 127.0.0.1
2025-04-16 17:46:56,973 - ERROR - Erreur non gérée: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
2025-04-16 17:47:00,622 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/ | IP: 127.0.0.1
2025-04-16 17:47:00,661 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/styles.css | IP: 127.0.0.1
2025-04-16 17:47:00,662 - ERROR - Erreur non gérée: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
2025-04-16 17:47:51,809 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/ | IP: 127.0.0.1
2025-04-16 17:47:51,862 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/styles.css | IP: 127.0.0.1
2025-04-16 17:47:51,862 - ERROR - Erreur non gérée: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 891, in dispatch_request
    self.raise_routing_exception(req)
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 500, in raise_routing_exception
    raise request.routing_exception  # type: ignore[misc]
    ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/ctx.py", line 362, in match_request
    result = self.url_adapter.match(return_rule=True)  # type: ignore
             ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/werkzeug/routing/map.py", line 629, in match
    raise NotFound() from None
werkzeug.exceptions.NotFound: 404 Not Found: The requested URL was not found on the server. If you entered the URL manually please check your spelling and try again.
2025-04-16 17:50:07,433 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/ | IP: 127.0.0.1
2025-04-16 17:50:07,464 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/static/styles.css | IP: 127.0.0.1
2025-04-16 17:50:09,434 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/msg | IP: 127.0.0.1
2025-04-16 17:50:09,471 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/static/styles.css | IP: 127.0.0.1
2025-04-16 17:50:10,475 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/rappel | IP: 127.0.0.1
2025-04-16 17:50:10,507 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/static/styles.css | IP: 127.0.0.1
2025-04-16 17:50:11,522 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-16 17:50:11,575 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/static/styles.css | IP: 127.0.0.1
2025-04-16 17:50:21,571 - DEBUG - Requête reçue: POST http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-16 17:50:21,601 - INFO - messages : [{'timestamp': '2025-04-16 15:21:15', 'number': '0783074093', 'type': 'rdv', 'content': 'Rappel : Rendez-vous pour une consultation naissance le mardi 08/04/2025 à 10:10.'}]
2025-04-16 17:50:21,651 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/static/styles.css | IP: 127.0.0.1
2025-04-16 17:50:22,290 - DEBUG - Requête reçue: POST http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-16 17:50:22,310 - INFO - messages : [{'timestamp': '2025-04-15 12:08:16', 'number': '0783074093', 'type': 'code', 'content': "Code d'authentification :\n123456"}, {'timestamp': '2025-04-14 17:22:28', 'number': '0783074093', 'type': 'code', 'content': "Code d'authentification :\n123456"}, {'timestamp': '2025-04-14 17:13:06', 'number': '0783074093', 'type': 'code', 'content': "Code d'authentification :\n123456"}]
2025-04-16 17:50:22,349 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/static/styles.css | IP: 127.0.0.1
2025-04-16 17:50:22,873 - DEBUG - Requête reçue: POST http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-16 17:50:22,893 - INFO - messages : [{'timestamp': '2025-04-16 15:29:30', 'number': '0680672451', 'type': 'msg', 'content': 'SPAM dans SQL'}, {'timestamp': '2025-04-15 15:21:06', 'number': '0783074093', 'type': 'msg', 'content': 'hello'}]
2025-04-16 17:50:22,936 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/static/styles.css | IP: 127.0.0.1
2025-04-16 17:50:23,553 - DEBUG - Requête reçue: POST http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-16 17:50:23,567 - INFO - messages : [{'timestamp': '2025-04-16 15:29:30', 'number': '0680672451', 'type': 'msg', 'content': 'SPAM dans SQL'}, {'timestamp': '2025-04-16 15:21:15', 'number': '0783074093', 'type': 'rdv', 'content': 'Rappel : Rendez-vous pour une consultation naissance le mardi 08/04/2025 à 10:10.'}, {'timestamp': '2025-04-15 15:21:06', 'number': '0783074093', 'type': 'msg', 'content': 'hello'}, {'timestamp': '2025-04-15 12:08:16', 'number': '0783074093', 'type': 'code', 'content': "Code d'authentification :\n123456"}, {'timestamp': '2025-04-14 17:22:28', 'number': '0783074093', 'type': 'code', 'content': "Code d'authentification :\n123456"}, {'timestamp': '2025-04-14 17:13:06', 'number': '0783074093', 'type': 'code', 'content': "Code d'authentification :\n123456"}]
2025-04-16 17:50:23,607 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/static/styles.css | IP: 127.0.0.1
2025-04-16 17:50:55,287 - DEBUG - Requête reçue: POST http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-16 17:50:55,295 - INFO - messages : [{'timestamp': '2025-04-16 15:29:30', 'number': '0680672451', 'type': 'msg', 'content': 'SPAM dans SQL'}, {'timestamp': '2025-04-16 15:21:15', 'number': '0783074093', 'type': 'rdv', 'content': 'Rappel : Rendez-vous pour une consultation naissance le mardi 08/04/2025 à 10:10.'}, {'timestamp': '2025-04-15 15:21:06', 'number': '0783074093', 'type': 'msg', 'content': 'hello'}, {'timestamp': '2025-04-15 12:08:16', 'number': '0783074093', 'type': 'code', 'content': "Code d'authentification :\n123456"}, {'timestamp': '2025-04-14 17:22:28', 'number': '0783074093', 'type': 'code', 'content': "Code d'authentification :\n123456"}, {'timestamp': '2025-04-14 17:13:06', 'number': '0783074093', 'type': 'code', 'content': "Code d'authentification :\n123456"}]
2025-04-16 17:50:55,321 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/static/styles.css | IP: 127.0.0.1
2025-04-16 17:54:30,546 - DEBUG - Requête reçue: POST http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-16 17:54:30,555 - INFO - messages : [{'timestamp': '2025-04-16 15:29:30', 'number': '0680672451', 'type': 'msg', 'content': 'SPAM dans SQL'}, {'timestamp': '2025-04-16 15:21:15', 'number': '0783074093', 'type': 'rdv', 'content': 'Rappel : Rendez-vous pour une consultation naissance le mardi 08/04/2025 à 10:10.'}, {'timestamp': '2025-04-15 15:21:06', 'number': '0783074093', 'type': 'msg', 'content': 'hello'}, {'timestamp': '2025-04-15 12:08:16', 'number': '0783074093', 'type': 'code', 'content': "Code d'authentification :\n123456"}, {'timestamp': '2025-04-14 17:22:28', 'number': '0783074093', 'type': 'code', 'content': "Code d'authentification :\n123456"}, {'timestamp': '2025-04-14 17:13:06', 'number': '0783074093', 'type': 'code', 'content': "Code d'authentification :\n123456"}]
2025-04-16 17:54:30,587 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/static/styles.css | IP: 127.0.0.1
2025-04-16 17:54:35,673 - DEBUG - Requête reçue: POST http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-16 17:54:35,683 - INFO - messages : [{'timestamp': '2025-04-16 15:29:30', 'number': '0680672451', 'type': 'msg', 'content': 'SPAM dans SQL'}, {'timestamp': '2025-04-15 15:21:06', 'number': '0783074093', 'type': 'msg', 'content': 'hello'}]
2025-04-16 17:54:35,714 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/static/styles.css | IP: 127.0.0.1
2025-04-16 17:54:36,288 - DEBUG - Requête reçue: POST http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-16 17:54:36,292 - INFO - messages : [{'timestamp': '2025-04-15 12:08:16', 'number': '0783074093', 'type': 'code', 'content': "Code d'authentification :\n123456"}, {'timestamp': '2025-04-14 17:22:28', 'number': '0783074093', 'type': 'code', 'content': "Code d'authentification :\n123456"}, {'timestamp': '2025-04-14 17:13:06', 'number': '0783074093', 'type': 'code', 'content': "Code d'authentification :\n123456"}]
2025-04-16 17:54:36,323 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/static/styles.css | IP: 127.0.0.1
2025-04-16 17:54:36,861 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/msg | IP: 127.0.0.1
2025-04-16 17:54:36,897 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/static/styles.css | IP: 127.0.0.1
2025-04-16 17:54:37,446 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/rappel | IP: 127.0.0.1
2025-04-16 17:54:37,479 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/static/styles.css | IP: 127.0.0.1
2025-04-16 17:54:38,358 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-16 17:54:38,393 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/static/styles.css | IP: 127.0.0.1
2025-04-16 17:54:38,965 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/msg | IP: 127.0.0.1
2025-04-16 17:54:39,003 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/static/styles.css | IP: 127.0.0.1
2025-04-16 17:54:39,828 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/rappel | IP: 127.0.0.1
2025-04-16 17:54:39,861 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/static/styles.css | IP: 127.0.0.1
2025-04-16 17:54:41,045 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-16 17:54:41,087 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/static/styles.css | IP: 127.0.0.1
2025-04-16 17:54:42,401 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/msg | IP: 127.0.0.1
2025-04-16 17:54:42,430 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/static/styles.css | IP: 127.0.0.1
2025-04-16 17:54:43,589 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-16 17:54:43,625 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/static/styles.css | IP: 127.0.0.1
2025-04-16 17:54:44,174 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/rappel | IP: 127.0.0.1
2025-04-16 17:54:44,211 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/static/styles.css | IP: 127.0.0.1
2025-04-16 17:57:10,809 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/msg | IP: 127.0.0.1
2025-04-16 17:57:10,874 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/static/styles.css | IP: 127.0.0.1
2025-04-16 17:57:10,914 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/favicon.ico | IP: 127.0.0.1
2025-04-16 17:57:13,439 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/ | IP: 127.0.0.1
2025-04-16 17:57:13,477 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/static/styles.css | IP: 127.0.0.1
2025-04-16 17:57:16,271 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/msg | IP: 127.0.0.1
2025-04-16 17:57:16,306 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/static/styles.css | IP: 127.0.0.1
2025-04-16 17:57:19,292 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/rappel | IP: 127.0.0.1
2025-04-16 17:57:19,335 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/static/styles.css | IP: 127.0.0.1
2025-04-16 17:57:20,511 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-16 17:57:20,569 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/static/styles.css | IP: 127.0.0.1
2025-04-16 17:57:22,307 - DEBUG - Requête reçue: POST http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-16 17:57:22,333 - INFO - messages : [{'timestamp': '2025-04-16 15:29:30', 'number': '0680672451', 'type': 'msg', 'content': 'SPAM dans SQL'}, {'timestamp': '2025-04-15 15:21:06', 'number': '0783074093', 'type': 'msg', 'content': 'hello'}]
2025-04-16 17:57:22,363 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/static/styles.css | IP: 127.0.0.1
2025-04-16 17:57:22,878 - DEBUG - Requête reçue: POST http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-16 17:57:22,900 - INFO - messages : [{'timestamp': '2025-04-15 12:08:16', 'number': '0783074093', 'type': 'code', 'content': "Code d'authentification :\n123456"}, {'timestamp': '2025-04-14 17:22:28', 'number': '0783074093', 'type': 'code', 'content': "Code d'authentification :\n123456"}, {'timestamp': '2025-04-14 17:13:06', 'number': '0783074093', 'type': 'code', 'content': "Code d'authentification :\n123456"}]
2025-04-16 17:57:22,947 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/static/styles.css | IP: 127.0.0.1
2025-04-16 17:57:23,647 - DEBUG - Requête reçue: POST http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-16 17:57:23,650 - INFO - messages : [{'timestamp': '2025-04-16 15:21:15', 'number': '0783074093', 'type': 'rdv', 'content': 'Rappel : Rendez-vous pour une consultation naissance le mardi 08/04/2025 à 10:10.'}]
2025-04-16 17:57:23,679 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/static/styles.css | IP: 127.0.0.1
2025-04-16 17:57:24,119 - DEBUG - Requête reçue: POST http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-16 17:57:24,125 - INFO - messages : [{'timestamp': '2025-04-16 15:29:30', 'number': '0680672451', 'type': 'msg', 'content': 'SPAM dans SQL'}, {'timestamp': '2025-04-16 15:21:15', 'number': '0783074093', 'type': 'rdv', 'content': 'Rappel : Rendez-vous pour une consultation naissance le mardi 08/04/2025 à 10:10.'}, {'timestamp': '2025-04-15 15:21:06', 'number': '0783074093', 'type': 'msg', 'content': 'hello'}, {'timestamp': '2025-04-15 12:08:16', 'number': '0783074093', 'type': 'code', 'content': "Code d'authentification :\n123456"}, {'timestamp': '2025-04-14 17:22:28', 'number': '0783074093', 'type': 'code', 'content': "Code d'authentification :\n123456"}, {'timestamp': '2025-04-14 17:13:06', 'number': '0783074093', 'type': 'code', 'content': "Code d'authentification :\n123456"}]
2025-04-16 17:57:24,158 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/static/styles.css | IP: 127.0.0.1
2025-04-16 17:57:26,813 - DEBUG - Requête reçue: POST http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-16 17:57:26,826 - INFO - messages : [{'timestamp': '2025-04-16 15:29:30', 'number': '0680672451', 'type': 'msg', 'content': 'SPAM dans SQL'}, {'timestamp': '2025-04-15 15:21:06', 'number': '0783074093', 'type': 'msg', 'content': 'hello'}]
2025-04-16 17:57:26,858 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/static/styles.css | IP: 127.0.0.1
2025-04-16 17:57:27,421 - DEBUG - Requête reçue: POST http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-16 17:57:27,431 - INFO - messages : [{'timestamp': '2025-04-15 12:08:16', 'number': '0783074093', 'type': 'code', 'content': "Code d'authentification :\n123456"}, {'timestamp': '2025-04-14 17:22:28', 'number': '0783074093', 'type': 'code', 'content': "Code d'authentification :\n123456"}, {'timestamp': '2025-04-14 17:13:06', 'number': '0783074093', 'type': 'code', 'content': "Code d'authentification :\n123456"}]
2025-04-16 17:57:27,462 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/static/styles.css | IP: 127.0.0.1
2025-04-16 17:57:27,813 - DEBUG - Requête reçue: POST http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-16 17:57:27,816 - INFO - messages : [{'timestamp': '2025-04-16 15:21:15', 'number': '0783074093', 'type': 'rdv', 'content': 'Rappel : Rendez-vous pour une consultation naissance le mardi 08/04/2025 à 10:10.'}]
2025-04-16 17:57:27,839 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/static/styles.css | IP: 127.0.0.1
2025-04-16 17:57:28,406 - DEBUG - Requête reçue: POST http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-16 17:57:28,410 - INFO - messages : [{'timestamp': '2025-04-15 12:08:16', 'number': '0783074093', 'type': 'code', 'content': "Code d'authentification :\n123456"}, {'timestamp': '2025-04-14 17:22:28', 'number': '0783074093', 'type': 'code', 'content': "Code d'authentification :\n123456"}, {'timestamp': '2025-04-14 17:13:06', 'number': '0783074093', 'type': 'code', 'content': "Code d'authentification :\n123456"}]
2025-04-16 17:57:28,438 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/static/styles.css | IP: 127.0.0.1
2025-04-16 17:57:28,830 - DEBUG - Requête reçue: POST http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-16 17:57:28,834 - INFO - messages : [{'timestamp': '2025-04-16 15:29:30', 'number': '0680672451', 'type': 'msg', 'content': 'SPAM dans SQL'}, {'timestamp': '2025-04-15 15:21:06', 'number': '0783074093', 'type': 'msg', 'content': 'hello'}]
2025-04-16 17:57:28,860 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/static/styles.css | IP: 127.0.0.1
2025-04-16 17:57:33,838 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/ | IP: 127.0.0.1
2025-04-16 17:57:33,874 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/static/styles.css | IP: 127.0.0.1
2025-04-16 17:57:39,912 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/msg | IP: 127.0.0.1
2025-04-16 17:57:39,945 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/static/styles.css | IP: 127.0.0.1
2025-04-16 17:57:39,955 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/favicon.ico | IP: 127.0.0.1
2025-04-16 17:57:45,121 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/rappel | IP: 127.0.0.1
2025-04-16 17:57:45,153 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/static/styles.css | IP: 127.0.0.1
2025-04-16 17:57:45,165 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/favicon.ico | IP: 127.0.0.1
2025-04-16 17:57:48,102 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-16 17:57:48,138 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/static/styles.css | IP: 127.0.0.1
2025-04-16 17:57:50,758 - DEBUG - Requête reçue: POST http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-16 17:57:50,763 - INFO - messages : [{'timestamp': '2025-04-16 15:29:30', 'number': '0680672451', 'type': 'msg', 'content': 'SPAM dans SQL'}, {'timestamp': '2025-04-15 15:21:06', 'number': '0783074093', 'type': 'msg', 'content': 'hello'}]
2025-04-16 17:57:50,790 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/static/styles.css | IP: 127.0.0.1
2025-04-16 17:57:51,584 - DEBUG - Requête reçue: POST http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-16 17:57:51,588 - INFO - messages : [{'timestamp': '2025-04-15 12:08:16', 'number': '0783074093', 'type': 'code', 'content': "Code d'authentification :\n123456"}, {'timestamp': '2025-04-14 17:22:28', 'number': '0783074093', 'type': 'code', 'content': "Code d'authentification :\n123456"}, {'timestamp': '2025-04-14 17:13:06', 'number': '0783074093', 'type': 'code', 'content': "Code d'authentification :\n123456"}]
2025-04-16 17:57:51,622 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/static/styles.css | IP: 127.0.0.1
2025-04-16 17:57:52,142 - DEBUG - Requête reçue: POST http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-16 17:57:52,147 - INFO - messages : [{'timestamp': '2025-04-16 15:21:15', 'number': '0783074093', 'type': 'rdv', 'content': 'Rappel : Rendez-vous pour une consultation naissance le mardi 08/04/2025 à 10:10.'}]
2025-04-16 17:57:52,176 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/static/styles.css | IP: 127.0.0.1
2025-04-16 17:57:53,085 - DEBUG - Requête reçue: POST http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-16 17:57:53,088 - INFO - messages : [{'timestamp': '2025-04-16 15:29:30', 'number': '0680672451', 'type': 'msg', 'content': 'SPAM dans SQL'}, {'timestamp': '2025-04-16 15:21:15', 'number': '0783074093', 'type': 'rdv', 'content': 'Rappel : Rendez-vous pour une consultation naissance le mardi 08/04/2025 à 10:10.'}, {'timestamp': '2025-04-15 15:21:06', 'number': '0783074093', 'type': 'msg', 'content': 'hello'}, {'timestamp': '2025-04-15 12:08:16', 'number': '0783074093', 'type': 'code', 'content': "Code d'authentification :\n123456"}, {'timestamp': '2025-04-14 17:22:28', 'number': '0783074093', 'type': 'code', 'content': "Code d'authentification :\n123456"}, {'timestamp': '2025-04-14 17:13:06', 'number': '0783074093', 'type': 'code', 'content': "Code d'authentification :\n123456"}]
2025-04-16 17:57:53,108 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/static/styles.css | IP: 127.0.0.1
2025-04-16 18:00:30,137 - DEBUG - Requête reçue: POST http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-16 18:00:30,140 - INFO - messages : [{'timestamp': '2025-04-16 15:21:15', 'number': '0783074093', 'type': 'rdv', 'content': 'Rappel : Rendez-vous pour une consultation naissance le mardi 08/04/2025 à 10:10.'}]
2025-04-16 18:00:30,170 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/static/styles.css | IP: 127.0.0.1
2025-04-16 18:00:30,184 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/favicon.ico | IP: 127.0.0.1
2025-04-16 18:00:31,606 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/msg | IP: 127.0.0.1
2025-04-16 18:00:31,639 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/static/styles.css | IP: 127.0.0.1
2025-04-16 18:00:31,653 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/favicon.ico | IP: 127.0.0.1
2025-04-16 18:00:32,958 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/rappel | IP: 127.0.0.1
2025-04-16 18:00:32,988 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/static/styles.css | IP: 127.0.0.1
2025-04-16 18:07:07,942 - DEBUG - Requête reçue: POST http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-16 18:07:07,957 - INFO - messages : [{'timestamp': '2025-04-16 15:29:30', 'number': '0680672451', 'type': 'msg', 'content': 'SPAM dans SQL'}, {'timestamp': '2025-04-16 15:21:15', 'number': '0783074093', 'type': 'rdv', 'content': 'Rappel : Rendez-vous pour une consultation naissance le mardi 08/04/2025 à 10:10.'}, {'timestamp': '2025-04-15 15:21:06', 'number': '0783074093', 'type': 'msg', 'content': 'hello'}, {'timestamp': '2025-04-15 12:08:16', 'number': '0783074093', 'type': 'code', 'content': "Code d'authentification :\n123456"}, {'timestamp': '2025-04-14 17:22:28', 'number': '0783074093', 'type': 'code', 'content': "Code d'authentification :\n123456"}, {'timestamp': '2025-04-14 17:13:06', 'number': '0783074093', 'type': 'code', 'content': "Code d'authentification :\n123456"}]
2025-04-16 18:07:07,982 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/static/styles.css | IP: 127.0.0.1
2025-04-16 18:07:09,859 - DEBUG - Requête reçue: POST http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-16 18:07:09,864 - INFO - messages : [{'timestamp': '2025-04-16 15:29:30', 'number': '0680672451', 'type': 'msg', 'content': 'SPAM dans SQL'}, {'timestamp': '2025-04-15 15:21:06', 'number': '0783074093', 'type': 'msg', 'content': 'hello'}]
2025-04-16 18:07:09,895 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/static/styles.css | IP: 127.0.0.1
2025-04-16 18:07:10,541 - DEBUG - Requête reçue: POST http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-16 18:07:10,546 - INFO - messages : [{'timestamp': '2025-04-15 12:08:16', 'number': '0783074093', 'type': 'code', 'content': "Code d'authentification :\n123456"}, {'timestamp': '2025-04-14 17:22:28', 'number': '0783074093', 'type': 'code', 'content': "Code d'authentification :\n123456"}, {'timestamp': '2025-04-14 17:13:06', 'number': '0783074093', 'type': 'code', 'content': "Code d'authentification :\n123456"}]
2025-04-16 18:07:10,578 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/static/styles.css | IP: 127.0.0.1
2025-04-16 18:07:11,043 - DEBUG - Requête reçue: POST http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-16 18:07:11,047 - INFO - messages : [{'timestamp': '2025-04-16 15:21:15', 'number': '0783074093', 'type': 'rdv', 'content': 'Rappel : Rendez-vous pour une consultation naissance le mardi 08/04/2025 à 10:10.'}]
2025-04-16 18:07:11,079 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/static/styles.css | IP: 127.0.0.1
2025-04-16 18:07:11,476 - DEBUG - Requête reçue: POST http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-16 18:07:11,480 - INFO - messages : [{'timestamp': '2025-04-16 15:29:30', 'number': '0680672451', 'type': 'msg', 'content': 'SPAM dans SQL'}, {'timestamp': '2025-04-16 15:21:15', 'number': '0783074093', 'type': 'rdv', 'content': 'Rappel : Rendez-vous pour une consultation naissance le mardi 08/04/2025 à 10:10.'}, {'timestamp': '2025-04-15 15:21:06', 'number': '0783074093', 'type': 'msg', 'content': 'hello'}, {'timestamp': '2025-04-15 12:08:16', 'number': '0783074093', 'type': 'code', 'content': "Code d'authentification :\n123456"}, {'timestamp': '2025-04-14 17:22:28', 'number': '0783074093', 'type': 'code', 'content': "Code d'authentification :\n123456"}, {'timestamp': '2025-04-14 17:13:06', 'number': '0783074093', 'type': 'code', 'content': "Code d'authentification :\n123456"}]
2025-04-16 18:07:11,511 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/static/styles.css | IP: 127.0.0.1
2025-04-16 18:19:08,971 - DEBUG - Requête reçue: POST http://sms.ville-latronche.fr/receive | IP: 127.0.0.1
2025-04-16 18:19:08,976 - INFO - Requête reçue: {'type': 'msg', 'message': 'msg api', 'num': '0783074093'}
2025-04-16 18:19:08,976 - INFO - Message evoyer, numero: 0783074093, message: msg api
2025-04-16 18:19:32,674 - DEBUG - Requête reçue: POST http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-16 18:19:32,678 - INFO - messages : [{'timestamp': '2025-04-16 16:19:08', 'number': '0783074093', 'type': 'msg', 'content': 'msg api'}, {'timestamp': '2025-04-16 15:29:30', 'number': '0680672451', 'type': 'msg', 'content': 'SPAM dans SQL'}, {'timestamp': '2025-04-15 15:21:06', 'number': '0783074093', 'type': 'msg', 'content': 'hello'}]
2025-04-16 18:19:32,711 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/static/styles.css | IP: 127.0.0.1
2025-04-16 18:21:15,119 - DEBUG - Requête reçue: POST http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-16 18:21:15,128 - INFO - messages : [{'timestamp': '2025-04-16 16:19:08', 'number': '0783074093', 'type': 'msg', 'content': 'msg api'}, {'timestamp': '2025-04-16 15:29:30', 'number': '0680672451', 'type': 'msg', 'content': 'SPAM dans SQL'}, {'timestamp': '2025-04-16 15:21:15', 'number': '0783074093', 'type': 'rdv', 'content': 'Rappel : Rendez-vous pour une consultation naissance le mardi 08/04/2025 à 10:10.'}, {'timestamp': '2025-04-15 15:21:06', 'number': '0783074093', 'type': 'msg', 'content': 'hello'}, {'timestamp': '2025-04-15 12:08:16', 'number': '0783074093', 'type': 'code', 'content': "Code d'authentification :\n123456"}, {'timestamp': '2025-04-14 17:22:28', 'number': '0783074093', 'type': 'code', 'content': "Code d'authentification :\n123456"}, {'timestamp': '2025-04-14 17:13:06', 'number': '0783074093', 'type': 'code', 'content': "Code d'authentification :\n123456"}]
2025-04-16 18:21:15,188 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/static/styles.css | IP: 127.0.0.1
2025-04-16 18:21:16,904 - DEBUG - Requête reçue: POST http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-16 18:21:16,908 - INFO - messages : [{'timestamp': '2025-04-16 15:21:15', 'number': '0783074093', 'type': 'rdv', 'content': 'Rappel : Rendez-vous pour une consultation naissance le mardi 08/04/2025 à 10:10.'}]
2025-04-16 18:21:16,937 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/static/styles.css | IP: 127.0.0.1
2025-04-16 18:21:17,588 - DEBUG - Requête reçue: POST http://sms.ville-latronche.fr/historique | IP: 127.0.0.1
2025-04-16 18:21:17,594 - INFO - messages : [{'timestamp': '2025-04-16 16:19:08', 'number': '0783074093', 'type': 'msg', 'content': 'msg api'}, {'timestamp': '2025-04-16 15:29:30', 'number': '0680672451', 'type': 'msg', 'content': 'SPAM dans SQL'}, {'timestamp': '2025-04-16 15:21:15', 'number': '0783074093', 'type': 'rdv', 'content': 'Rappel : Rendez-vous pour une consultation naissance le mardi 08/04/2025 à 10:10.'}, {'timestamp': '2025-04-15 15:21:06', 'number': '0783074093', 'type': 'msg', 'content': 'hello'}, {'timestamp': '2025-04-15 12:08:16', 'number': '0783074093', 'type': 'code', 'content': "Code d'authentification :\n123456"}, {'timestamp': '2025-04-14 17:22:28', 'number': '0783074093', 'type': 'code', 'content': "Code d'authentification :\n123456"}, {'timestamp': '2025-04-14 17:13:06', 'number': '0783074093', 'type': 'code', 'content': "Code d'authentification :\n123456"}]
2025-04-16 18:21:17,621 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/static/styles.css | IP: 127.0.0.1
2025-04-16 18:40:14,749 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/login | IP: 127.0.0.1
2025-04-16 18:59:42,102 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/login | IP: 127.0.0.1
2025-04-16 18:59:51,080 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/ | IP: 127.0.0.1
2025-04-16 18:59:51,321 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/static/styles.css | IP: 127.0.0.1
2025-04-16 19:00:51,150 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/login | IP: 127.0.0.1
2025-04-16 19:00:55,243 - DEBUG - Requête reçue: POST http://sms.ville-latronche.fr/login | IP: 127.0.0.1
2025-04-16 19:01:05,353 - DEBUG - Requête reçue: POST http://sms.ville-latronche.fr/login | IP: 127.0.0.1
2025-04-16 19:01:05,528 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/msg | IP: 127.0.0.1
2025-04-16 19:01:05,588 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/static/styles.css | IP: 127.0.0.1
2025-04-16 19:25:39,837 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/msg | IP: 127.0.0.1
2025-04-16 19:25:39,840 - ERROR - Erreur non gérée: Missing user_loader or request_loader. Refer to http://flask-login.readthedocs.io/#how-it-works for more info.
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/var/www/flaskapp.dev/app.py", line 104, in message
    return flask.render_template('send-message.html')
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/templating.py", line 150, in render_template
    return _render(app, template, context)
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/templating.py", line 127, in _render
    app.update_template_context(context)
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 530, in update_template_context
    context.update(self.ensure_sync(func)())
                   ^^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask_login/utils.py", line 405, in _user_context_processor
    return dict(current_user=_get_user())
                             ^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask_login/utils.py", line 370, in _get_user
    current_app.login_manager._load_user()
  File "/usr/local/lib/python3.11/dist-packages/flask_login/login_manager.py", line 347, in _load_user
    raise Exception(
Exception: Missing user_loader or request_loader. Refer to http://flask-login.readthedocs.io/#how-it-works for more info.
2025-04-16 19:27:25,758 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/msg | IP: 127.0.0.1
2025-04-16 19:27:25,789 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/static/styles.css | IP: 127.0.0.1
2025-04-16 19:29:58,520 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/ | IP: 127.0.0.1
2025-04-16 19:29:58,532 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/login?next=/ | IP: 127.0.0.1
2025-04-16 19:30:01,916 - DEBUG - Requête reçue: POST http://sms.ville-latronche.fr/login?next=/ | IP: 127.0.0.1
2025-04-16 19:30:10,131 - DEBUG - Requête reçue: POST http://sms.ville-latronche.fr/login?next=/ | IP: 127.0.0.1
2025-04-16 19:30:46,334 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/login?next=/ | IP: 127.0.0.1
2025-04-16 19:30:51,513 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/login?next=/ | IP: 127.0.0.1
2025-04-16 19:31:02,231 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/login?next=/ | IP: 127.0.0.1
2025-04-16 19:31:06,481 - DEBUG - Requête reçue: POST http://sms.ville-latronche.fr/login?next=/ | IP: 127.0.0.1
2025-04-16 19:31:06,702 - ERROR - Erreur non gérée: 'User' object has no attribute 'is_active'
Traceback (most recent call last):
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 917, in full_dispatch_request
    rv = self.dispatch_request()
         ^^^^^^^^^^^^^^^^^^^^^^^
  File "/usr/local/lib/python3.11/dist-packages/flask/app.py", line 902, in dispatch_request
    return self.ensure_sync(self.view_functions[rule.endpoint])(**view_args)  # type: ignore[no-any-return]
           ^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^^
  File "/var/www/flaskapp.dev/app.py", line 84, in login
    login_user(user)
  File "/usr/local/lib/python3.11/dist-packages/flask_login/utils.py", line 180, in login_user
    if not force and not user.is_active:
                         ^^^^^^^^^^^^^^
AttributeError: 'User' object has no attribute 'is_active'
2025-04-16 19:32:46,695 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/login | IP: 127.0.0.1
2025-04-16 19:32:52,267 - DEBUG - Requête reçue: POST http://sms.ville-latronche.fr/login | IP: 127.0.0.1
2025-04-16 19:32:52,431 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/msg | IP: 127.0.0.1
2025-04-16 19:32:52,502 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/static/styles.css | IP: 127.0.0.1
2025-04-16 19:33:01,745 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/msg | IP: 127.0.0.1
2025-04-16 19:33:01,768 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/static/styles.css | IP: 127.0.0.1
2025-04-17 11:59:16,737 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/ | IP: 127.0.0.1
2025-04-17 11:59:16,863 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/login?next=/ | IP: 127.0.0.1
2025-04-17 12:03:26,641 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/msg | IP: 127.0.0.1
2025-04-17 12:03:26,693 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/static/styles.css | IP: 127.0.0.1
2025-04-18 13:05:31,414 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/ | IP: 127.0.0.1
2025-04-18 13:05:31,424 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/login?next=/ | IP: 127.0.0.1
2025-04-18 13:05:39,494 - DEBUG - Requête reçue: POST http://sms.ville-latronche.fr/login?next=/ | IP: 127.0.0.1
2025-04-18 13:05:39,792 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/msg | IP: 127.0.0.1
2025-04-18 13:05:39,873 - DEBUG - Requête reçue: GET http://sms.ville-latronche.fr/static/styles.css | IP: 127.0.0.1
